!function(F,x){"use strict";var V="ht",c=F[V],G="px",A="left",t="top",U="bottom",d="right",P="innerHTML",K="className",E="",$="width",r="height",L="string",O="position",k="absolute",R="0",D="opacity",y="background",Z=c.Default,Q=Z.getInternal(),_=c.Color,J=Z.animate,H=Z.isTouchable,i=null,o=(Math.sqrt,F.parseInt),I=F.setTimeout,g=(Math.round,_.titleIconBackground),X=function(G){return typeof G===L||G instanceof String},u=function(){return document},W=function(S){return u().createElement(S)},M=function(){var Z=W("div");return Z.tabIndex=-1,Z.style.outline="none",Z},h=function(){return W("canvas")},m=function(Y,A){n(Y,"-webkit-transform",A),n(Y,"-ms-transform",A),n(Y,"transform",A)},n=function(d,v,m){d.style.setProperty(v,m,i)},N=function(o,g,H){Z.def(c.widget[o],g,H)},C=function(A,n){A.appendChild(n)},S=function(){return u().documentElement},v=function(){return S().clientWidth},s=function(){return S().clientHeight},p=Z.eventListenerOptionsFalse,l=(Z.eventListenerOptionsTrue,function(E,e,G,P){E.addEventListener(e,G,P?p:p)}),e=function(D,y,L,K){D.removeEventListener(y,L,K?p:p)},T=function(o){var G=o.touches[0];return G?G:o.changedTouches[0]};Q.addMethod(Z,{dialogCloseIcon:{width:100,height:100,comps:[{type:"shape",points:[10,10,90,90],segments:[1,2],borderWidth:8,borderColor:g},{type:"shape",points:[90,10,10,90],segments:[1,2],borderWidth:8,borderColor:g}]},dialogMaximizeIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,15,80,75],borderWidth:6,borderColor:g},{type:"rect",rect:[10,10,80,20],background:g}]},dialogRestoreIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,34,56,56],borderWidth:8,borderColor:g},{type:"rect",rect:[10,34,56,14],background:g},{type:"rect",rect:[34,10,56,14],background:g},{type:"rect",rect:[82,10,8,56],background:g},{type:"rect",rect:[66,62,24,8],background:g}]},dialogTitleLabelColor:Z.labelSelectColor,dialogTitleLabelFont:(H?"18":"14")+"px arial, sans-serif",dialogContentLabelFont:Z.labelFont,dialogTitleBackground:_.titleBackground,dialogHeaderBackground:_.headerBackground,dialogButtonBackground:"#1ABC9C",dialogButtonSelectBackground:"#16A085",dialogButtonLabelColor:"#fff"},!0);var f=function(_){var l=this;l.$1d=_,l.addListeners()};Z.def(f,x,{ms_listener:1,getView:function(){return this.$1d.getView()},clear:function(){delete this.$2d,delete this.$3d,delete this.$4d,delete this.$5d},handle_touchstart:function(K){var W=this,F=W.$1d,E=F.$6d,V=F._config,q=F.$7d,X=K,i=K.target;if(q.contains(i)||Z.preventDefault(K),Z.isLeftButton(K)){H&&(X=T(K));var B=W.$8d={x:X.pageX,y:X.pageY};W.$9d={x:B.x,y:B.y},!V.maximized&&V.draggable&&E.contains(i)&&(W.$4d=!0,Z.startDragging(W,K)),W.handle_mousemove(K)&&(W.$2d=!0,Z.startDragging(W,K)),q.contains(K.target)||F.$41d.focus()}},handle_mousedown:function(x){this.handle_touchstart(x)},handle_touchend:function(e){if(Z.isLeftButton(e)&&!this.$5d&&!this.$3d){var G=this,z=G.$1d,w=e.target,O=z._config,J=z.$18d,D=z.$16d;for(O.closable&&J.contains(w)&&z.hide(),O.maximizable&&D.contains(w)&&(O.maximized?z.restore():z.maximize());w&&(w.className||"").indexOf("dialog-button")<0;)w=w.parentNode;w&&w.buttonItem&&z.action&&z.action(w.buttonItem,e),delete G.$8d,delete G.$9d}},handle_mouseup:function(U){this.handle_touchend(U)},handleWindowTouchEnd:function(e){var c=this,A=c.$1d,X=A.$10d;c.$2d&&c.$3d?X.fire({kind:"endResize",target:A,originEvent:e}):c.$4d&&c.$5d&&X.fire({kind:"endMove",target:A,originEvent:e}),this.clear()},handleWindowMouseUp:function(Y){this.handleWindowTouchEnd(Y)},handle_mousemove:function(c){var l=this.$1d._config;if(l.maximized)return!1;if("w"!==l.resizeMode&&"h"!==l.resizeMode&&"wh"!==l.resizeMode)return!1;var v=this,p=v.getView(),z=p.querySelector(".resize-area"),r=z.getBoundingClientRect(),V={x:r.left,y:r.top,width:r.width,height:r.height};c=H?T(c):c;var q=c.clientX,x=c.clientY,D={x:q,y:x};return Z.containsPoint(V,D)?(n(p,"cursor","nwse-resize"),!0):(n(p,"cursor",E),void 0)},handleWindowTouchMove:function(b){b.preventDefault();var j=b;H&&(j=T(b));var f=this,V=f.$8d,l=f.$9d;if(!(l.x==V.x&&l.y==V.y&&Z.getDistance(l,{x:j.pageX,y:j.pageY})<=1)){var x=f.$1d,u=x._config,w=x.$21d,g=u.resizeMode||"wh",W=j.pageX-V.x,P=j.pageY-V.y;if(f.$2d){var N=w.offsetWidth,R=w.offsetHeight,h=N+W,U=R+P;if(h=Math.max(h,50),U=Math.max(U,50),"center"===u.position||u.position==i){var S={},Q=w.getBoundingClientRect();S.x=Q.left,S.y=Q.top,u.position=S}"w"===g?(x.setSize(h,R),V.x+=h-N):"h"===g?(x.setSize(N,U),V.y+=U-R):"wh"===g&&(x.setSize(h,U),V.x+=h-N,V.y+=U-R),f.$3d?x.$10d.fire({kind:"betweenResize",target:x,originEvent:b}):(f.$3d=!0,x.$10d.fire({kind:"beginResize",target:x,originEvent:b}))}else if(f.$4d){var O=w.getBoundingClientRect(),L=O.width,Y=O.height,D=v(),d=s(),e=o(w.style.left)||0,I=o(w.style.top)||0,r=e+W,B=I+P,E=x.adjustPosition({x:r,y:B},{width:L,height:Y},{width:D,height:d});E&&(r=E.x,B=E.y);var z=r-e,C=B-I;n(w,A,r+G),n(w,t,B+G),V.x+=z,V.y+=C,u.position={x:r,y:B},f.$5d?x.$10d.fire({kind:"betweenMove",target:x,originEvent:b}):(f.$5d=!0,x.$10d.fire({kind:"beginMove",target:x,originEvent:b}))}}},handleWindowMouseMove:function(D){this.handleWindowTouchMove(D)},handleWindowResize:function(){var D=this,g=D,Z=g._config,K=g.$21d,I=v(),w=s(),y=Z.width,X=Z.height,k=Z.position||"center";Z.maximized?(n(K,$,I+G),n(K,r,w+G),n(K,t,R),n(K,A,R)):(n(K,$,y+G),n(K,r,X+G),"center"===k?(n(K,A,(I-y)/2+G),n(K,t,(w-X)/2+G)):(n(K,A,k.x+G),n(K,t,k.y+G))),g.iv()},handle_mousewheel:function(u){u.stopPropagation()},handle_DOMMouseScroll:function(r){r.stopPropagation()}}),c.widget.Dialog=function(h){var C=this,y=C._view=Q.createView(null,C);y[K]="ht-widget-dialog",n(y,O,k),Z.baseZIndex!=i&&n(y,"z-index",Z.baseZIndex+"");var X=C.$11d=new f(C);C.bindingHandleWindowResize=X.handleWindowResize.bind(C),C.$10d=new c.Notifier,h&&C.setConfig(h)},N("Dialog",x,{ms_v:1,setTitle:function(q){this._config.title=q,this.getView().querySelector(".dialog-container-title span").innerHTML=q},clearNodes:function(l){if(l)for(;l.firstChild;)l.removeChild(l.firstChild)},$31d:function(){var J=this,a=J.$6d=M(),T=J._config,p=J.$12d=J.$13d();a[K]="dialog-container-title",n(a,"cursor","default"),n(a,"white-space","nowrap"),n(a,"overflow","hidden"),n(a,"font",Z.dialogTitleLabelFont),n(a,y,T.titleBackground||Z.dialogTitleBackground),n(a,"color",T.titleColor||Z.dialogTitleLabelColor);var D=W("span"),V=J.$25d();if(T.titleAlign&&n(a,"text-align",T.titleAlign),T.titleIcon){var s=J.$14d=J.$15d();C(a,s)}if(T.title&&T.title.trim&&(T.title=T.title.trim()),D[P]=T.title||"&nbsp;",C(a,D),T.maximizable){var g=J.$16d=J.$17d();C(p,g)}if(T.closable){var R=J.$18d=J.$19d();C(p,R)}return C(a,p),n(a,"display","block"),n(a,"line-height",V+G),a},$13d:function(){var B=M();return n(B,O,k),n(B,A,R),n(B,d,5+G),n(B,t,R),n(B,U,R),n(B,"text-align",d),n(B,"white-space","nowrap"),B[K]="dialog-title-controls",B},$20d:function(){var I=this.$21d=M(),f=this._config,w=f.borderWidth;return n(I,O,"fixed"),n(I,"box-shadow","rgba(0, 0, 0, 0.2) 0px 5px 10px 0px"),n(I,"padding",R+" "+w+G+" "+w+G+" "+w+G),n(I,"box-sizing","border-box"),n(I,"-moz-box-sizing","border-box"),I[K]="dialog-container",n(I,y,f.titleBackground||Z.dialogTitleBackground),I},$22d:function(){var D,S=this,f=S._config,e=S.$7d=M(),u=f.content,w=0,_=f.contentPadding||0;f.buttons!=i&&f.buttons.length>0&&(w=32),X(u)?e[P]=u:u.getView?(D=u.getView(),C(e,D)):(D=u,C(e,D)),n(e,O,k),n(e,"font",Z.dialogContentLabelFont),c.Default.appendToScreen(e);var B=e.offsetWidth+1,J=e.offsetHeight,y=S.$25d();return f.width==i&&(f.width=B+10+2*_),f.height==i&&(f.height=J+y+w+5+2*_),c.Default.removeHTML(e),D&&(n(D,"box-sizing","border-box"),n(D,"-moz-box-sizing","border-box"),n(D,$,"100%"),n(D,r,"100%")),e[K]="dialog-content",n(e,t,y+_+G),n(e,U,w+_+G),n(e,A,_+G),n(e,d,_+G),n(e,"overflow","hidden"),e},getOverlayDiv:function(){return this.$41d},$23d:function(){var j=this.$41d=M();return j[K]="dialog-overlay",n(j,$,"100%"),n(j,r,"100%"),n(j,O,"fixed"),n(j,t,R),n(j,A,R),n(j,y,"rgba(235, 235, 235, 0.7)"),j},_config:i,setSize:function(W,J){var C=this,N=C._config;N&&(N.width=W,N.height=J,C.isShowing()&&(C.bindingHandleWindowResize(),C.iv()))},getConfig:function(){return this._config},$24d:function(){var d=this._config,M=d.titleIconSize||16;return H&&(M*=1.2),M},$25d:function(){var V=this._config,t=V.titleHeight||Z.widgetTitleHeight;return t},$26d:function(o){n(o,"cursor","pointer"),n(o,"display","inline-block"),n(o,"margin-right",(H?8:4)+G),n(o,"vertical-align",t)},$27d:function(){var J=this.$30d=M(),X=10;return H&&(X=20),n(J,$,X+G),n(J,r,X+G),n(J,O,k),n(J,U,R),n(J,d,R),J[K]="resize-area",J},$15d:function(){var i=this,P=h();P[K]="dialog-title-control dialog-title-control-icon";var a=i.$25d(),p=i.$24d();return i.$26d(P),Q.setCanvas(P,p,a),P},$17d:function(){var e=h();e[K]="dialog-title-control dialog-title-control-maximize";var b=this.$25d(),H=this.$24d();return this.$26d(e),Q.setCanvas(e,H,b),e},$19d:function(){var B=h();B[K]="dialog-title-control dialog-title-control-close";var z=this.$25d(),l=this.$24d();return this.$26d(B),Q.setCanvas(B,l,z),B},$28d:function(){var b=M();return n(b,y,"white"),n(b,$,"100%"),n(b,r,"100%"),n(b,O,"relative"),b},$29d:function(){var S=this,m=M();n(m,"line-height",32+G),n(m,O,k),n(m,U,R),n(m,A,R),n(m,"white-space","nowrap"),n(m,"overflow","hidden"),n(m,d,R),n(m,y,Z.dialogHeaderBackground),m[K]="dialog-container-buttons";var x=this._config,f=x.buttonsAlign||d,F=0;return n(m,"text-align",f),S.$42d=[],x.buttons.forEach(function(v){var B=new c.widget.Button,I=B.getView();I[K]="dialog-button "+v.className,I.buttonItem=v,S.$42d.push(B),B.setBorderColor(i),B.setBackground(Z.dialogButtonBackground),B.setSelectBackground(Z.dialogButtonSelectBackground),B.setLabelColor(Z.dialogButtonLabelColor),n(I,O,"relative"),n(I,"display","inline-block"),n(I,"text-align",A),n(I,"height",24+G);var V=H?10:5;f===A||f===d?n(I,"margin-"+f,V+G):0===F||n(I,"margin-"+A,V+G),n(I,"vertical-align","middle");var P=Z.getTextSize(B.getLabelFont(),v.label).width+10;B.onClicked=function(n){v.action&&v.action.call(S,v,n)},B.setLabel(v.label),B.setDisabled(v.disabled),n(I,$,P+G),C(m,B.getView()),F++}),m},setConfig:function(X){if(X){var D=this,G=D._view;D._config=X,D.action=X.action,D.clearNodes(G),X.borderWidth==i&&(X.borderWidth=5);var R=D.$23d(),g=D.$28d(),x=D.$31d(),V=D.$22d(),k=D.$20d(),h=D.$30d=D.$27d();if(C(G,R),C(G,k),C(k,g),C(g,x),C(g,V),X.buttons!=i&&X.buttons.length>0){var $=D.$29d();C(g,$)}C(k,h),X.maximized?(X.maximized=!1,D.bindingHandleWindowResize(),D.maximize(!0)):D.bindingHandleWindowResize(),D.isShowing()&&D.iv()}},hide:function(){var Y=this,r=Y.$21d,d=Y.$41d,w=Y._view;w[K]="ht-widget-dialog",J(r).duration(200).scale(.7).set(D,R).end(function(){Y.onHidden&&Y.onHidden(),c.Default.removeHTML(w),Y.$10d.fire({kind:"hide",target:Y})}),J(d).duration(200).set(D,R).end(),e(F,"resize",Y.bindingHandleWindowResize)},isShowing:function(){return!!this._view.parentNode},setModal:function(y){this.$41d.style.display=y?"block":"none"},isModal:function(){return"none"!==this.$41d.style.display},$32d:function(){var D=this,G=D._config,l=D.$21d;m(l,E),D.iv(),G.maximized?D.$10d.fire({kind:"maximize",target:D}):D.$10d.fire({kind:"restore",target:D})},maximize:function(l){var y=this,U=y.$21d,d=y._config;if(!d.maximized){d.maximized=!0,y.$33d(),y.$16d[K]="dialog-title-control dialog-title-control-minimize";var _=v(),V=s(),c=d.width,i=d.height,F=o(U.style.left)||0,n=o(U.style.top)||0;y.$36d=c,y.$37d=i,y.$34d=F,y.$35d=n;var N=l?0:200;J(U).duration(N).set(A,R).set(t,R).set($,_+G).set(r,V+G).end(function(){y.$32d()})}},restore:function(){var u=this,m=u.$34d,I=u.$35d,v=u.$36d,p=u.$37d,U=u._config;if(U.maximized&&(U.maximized=!1,u.$33d(),u.$16d[K]="dialog-title-control dialog-title-control-maximize",u.isShowing()&&m!=i&&I!=i&&v!=i&&p!=i)){var g=u.$21d;J(g).duration(200).set(A,m+G).set(t,I+G).set($,v+G).set(r,p+G).end(function(){u.$32d()})}delete u.$34d,delete u.$35d,delete u.$36d,delete u.$37d},show:function(){var C=this,o=C._view,e=C._config,A=C.$21d,f=C.$41d;e&&e.zIndex!=i&&n(o,"z-index",e.zIndex+E),c.Default.appendToScreen(o),m(A,"scale(0.7)"),n(A,D,R),C.iv(),C.validate(),C._view[K]+=" dialog-show",I(function(){J(A).duration(200).scale(1).set(D,"1").end(function(){n(A,$,A.clientWidth+G),n(A,r,A.clientHeight+G),C.onShown&&C.onShown(),C.$10d.fire({kind:"show",target:C})}),J(f).duration(200).set(D,"1").end(),l(F,"resize",C.bindingHandleWindowResize)},30)},setPosition:function(d){var G=this.$21d;G.style.left=d.x+"px",G.style.top=d.y+"px"},addEventListener:function(_,E,Y){this.$10d.add(_,E,Y)},removeEventListener:function(V,$){this.$10d.remove(V,$)},$38d:function(q,d,t,o){var g=Q.initContext(q);Q.translateAndScale(g,0,0,1),g.clearRect(0,0,t,t);var e=(t-o)/2;Z.drawStretchImage(g,Z.getImage(d),"fill",0,e,o,o),g.restore()},$33d:function(){var e=this,P=e._config,w=e.$16d,Q=P.maximized?Z.dialogRestoreIcon:Z.dialogMaximizeIcon;if(w&&Q){var u=e.$25d(),K=e.$24d();e.$38d(w,Z.getImage(Q),u,K)}},$39d:function(){var Q=this,i=Q._config,F=Q.$14d,L=i.titleIcon;if(F&&L){var T=Q.$25d(),t=Q.$24d();Q.$38d(F,Z.getImage(L),T,t)}},$40d:function(){var J=this,U=J.$18d,r=Z.dialogCloseIcon;if(U&&r){var B=J.$25d(),k=J.$24d();J.$38d(U,Z.getImage(r),B,k)}},invalidate:function(T){var G=this,O=G.$42d;G._68I||(G._68I=1,Z.callLater(G.validate,G,i,T),G.onInvalidated&&G.onInvalidated(),G.fireViewEvent("invalidate"));var n=G._config.content;n.invalidate&&n.invalidate(),O&&O.forEach(function(C){C.iv()})},validateImpl:function(){var K=this;K.$40d(),K.$33d(),K.$39d();var c=K._config.content;c.initView&&(c.setX(0),c.setY(0),c.setWidth(K.$7d.clientWidth),c.setHeight(K.$7d.clientHeight))},adjustPosition:function(i,l,Q){var x=l.width,E=l.height,c=Q.width,p=Q.height,Y=i.x,S=i.y,L=this._config,$=L.minDragSize||20;return"inside"===L.dragMode?(Y+x>c&&(Y=c-x),S+E>p&&(S=p-E),0>Y&&(Y=0),0>S&&(S=0)):(null==L.dragMode||"none"===L.dragMode)&&(-x+$>Y&&(Y=-x+$),Y>c-$&&(Y=c-$),S>p-$&&(S=p-$),0>S&&(S=0)),{x:Y,y:S}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);