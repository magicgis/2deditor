!function(M,l){"use strict";var N="ht",z=M[N],U="innerHTML",s="className",R=null,$="px",A=z.Default,p=A.getInternal(),T="0",f=function(){return document},q=function(N){return f().createElement(N)},v=function(){return q("canvas")},G=function(g,o,r){g.style.setProperty(o,r,R)},I=function(t,H,b){A.def(z.widget[t],H,b)},m=function(l,d){l.appendChild(d)},Y=function(V,b){V.removeChild(b)},K=A.eventListenerOptionsFalse,C=(A.eventListenerOptionsTrue,function(U,y,$,e){U.addEventListener(y,$,e?K:K)}),h=function(S,R,J,I){S.removeEventListener(R,J,I?K:K)},Q=A.isTouchable;p.addMethod(A,{menuLabelFont:(Q?"16":"13")+"px arial, sans-serif",menuLabelColor:"#000",menuBackground:"#F0EFEE",menuHoverBackground:"#648BFE",menuHoverLabelColor:"#fff",menuSeparatorWidth:1,menuSeparatorColor:"#999"},!0),z.widget.Menu=function(I){var B=this,D=B._view=p.createView(null,B),v=B.$1g=new z.widget.ContextMenu,C=q("ul");v._r=!0,v._view[s]+=" ht-widget-dropdownmenu",D[s]="ht-widget-menu",C[s]="header",G(D,"margin",T),G(D,"padding",T),G(D,"background",A.menuBackground),G(D,"-webkit-user-select","none"),G(D,"-moz-user-select","none"),G(D,"user-select","none"),G(D,"text-align","left"),G(D,"border-bottom",A.menuSeparatorWidth+"px solid "+A.menuSeparatorColor),G(D,"cursor","default"),G(D,"overflow","auto"),G(D,"white-space","nowrap"),G(D,"font",A.menuLabelFont),G(D,"color",A.menuLabelColor),G(D,"box-sizing","border-box"),G(D,"-moz-box-sizing","border-box"),G(C,"list-style","none"),G(C,"margin",T),G(C,"padding",T),G(C,"display","inline-block"),m(D,C),B.setItems(I),B.$2g=function(h){B.$3g(h)},B.$4g=function(C){B.$5g(C)},B.$6g=function(u){B.$7g(u)},B.$8g=function(O){B.$9g(O)},B.$9b=function(w){B.$10g(w)},B._autoShow=!0,B.setAutoShow(!1),v.afterHide=function(){B.$11g()},v.afterShow=function(){B.$12g()},h(f(),"keydown",v.$3b),B.$3b=function(q){B.$13g(q)},B.invalidate()},I("Menu",l,{_items:R,$14g:A.menuHoverBackground,$15g:A.menuHoverLabelColor,$16g:{},_enableGlobalKey:!1,ms_v:1,$21g:"smallicons",$22g:0,$23g:0,$24g:"left",getDropDownMenu:function(){return this.$1g},setLayout:function(t){var T=this;if(T.$21g=t,T.setItems(T._items),"largeicons"===t){for(var r=T._view.querySelectorAll(".header-item"),J=0,p=0;p<r.length;p++){var E=r[p];J=Math.max(J,E.clientWidth)}for(var p=0;p<r.length;p++){var E=r[p];G(E,"min-width",J+$)}}this.invalidate()},getLayout:function(){return this.$21g},setHeaderItemHGap:function(g){this.$22g=g;for(var w=this._view.querySelectorAll(".header-item"),h=0;h<w.length;h++){var R=w[h];G(R,"margin-left",g+$),G(R,"margin-right",g+$)}},getHeaderItemHGap:function(){return this.$22g},setHeaderItemVGap:function(T){this.$23g=T;for(var J=this._view.querySelectorAll(".header-item"),g=0;g<J.length;g++){var d=J[g];G(d,"margin-top",T+$),G(d,"margin-bottom",T+$)}},getHeaderItemVGap:function(){return this.$24g},setHeaderItemAlign:function(x){this.$24g=x,G(this._view,"text-align",x)},getHeaderItemAlign:function(){return this.$23g},enableGlobalKey:function(){var U=this,b=U._enableGlobalKey;b===!1&&(C(f(),"keydown",U.$3b),U._enableGlobalKey=!0)},disableGlobalKey:function(){this._enableGlobalKey=!1,h(f(),"keydown",this.$3b)},setHoverBackground:function(v){this.$14g=v},setHoverColor:function(n){this.$15g=n},setItems:function(O){var h=this,t=h._view,D=h.$21g;if(h._items=O,t.children[0][U]="",h.$16g={},O&&O.length){for(var A=t.children[0],n=0,K=f().createDocumentFragment();n<O.length;n++){var a=O[n],i=q("li"),Y=q("span");if(a.icon){var T=v();T[s]="menu-item-icon","smallicons"===D?(G(T,"height","1.2em"),G(T,"width","1.2em"),G(T,"vertical-align","middle")):(G(T,"height","32px"),G(T,"width","32px"),G(T,"display","block"),G(T,"margin","0 auto")),T.$20g=a.icon,m(i,T)}i[s]="header-item",G(i,"display","inline-block"),G(i,"vertical-align","top"),G(i,"padding","0 1.2em"),G(i,"line-height","1.8em"),"largeicons"===D&&G(i,"text-align","center"),G(i,"background-color","rgba(0,0,0,0)"),i.setAttribute("data-index",n),h.$16g[n]=a.items,Y[U]=a.label,"iconsonly"!==D&&m(i,Y),m(K,i)}m(A,K)}},showDropdownMenu:function(O){var P=this,v=P.$16g[O],u=P.$1g,B=P._view.children[0].children[O],Z=P.$17g;if(B&&B!==Z){Z&&P.hideDropdownMenu();var C=B.getBoundingClientRect(),R=A.getWindowInfo();P.$17g=B,u.setItems(v),u.show(C.left+R.left,C.top+C.height+R.top,!1)}},hideDropdownMenu:function(){this.$1g.hide()},getItemByProperty:function(z,b){var j=this,P=j._items;return P&&0!==P.length?j.$1g.getItemByProperty(z,b,P):R},$12g:function(){var Z=this,r=Z.$17g;r.style.background=Z.$14g,r.style.color=Z.$15g,Z._autoShow||C(f(),Q?"touchstart":"mousedown",Z.$9b)},$11g:function(){var X=this,T=X.$17g;T&&(T.style.background="",T.style.color="",X.$17g=R),h(f(),Q?"touchstart":"mousedown",X.$9b)},$10g:function(V){var k=this,B=k._view,U=k.$1g,m=B.children[0];!f().body.contains(B)||m.contains(V.target)||U._view.contains(V.target)||k.hideDropdownMenu()},$13g:function(A){var V=this,R=V.$1g;f().body.contains(V._view)&&R.$13b.$4b.call(R.$13b,A,V._items)},setAutoShow:function(b){var X=this,q=X.$1g,P=X._view;X._autoShow!==b&&(X._autoShow?(h(P,"mouseover",X.$2g),h(P,"mouseout",X.$4g),h(q._view,"mouseout",X.$4g),Q||(C(P,"mouseover",X.$8g),C(P,"mouseout",X.$8g)),C(P,Q?"touchstart":"mousedown",X.$6g)):(h(P,"mouseover",X.$8g),h(P,"mouseout",X.$8g),h(P,Q?"touchstart":"mousedown",X.$6g),h(f(),Q?"touchstart":"mousedown",X.$9b),Q||(C(P,"mouseover",X.$2g),C(P,"mouseout",X.$4g),C(q._view,"mouseout",X.$4g))),X._autoShow=b)},$3g:function(S){var w=this,q=w._view.children[0],v=S.target;if(q!==v&&q.contains(v)){for(;"header-item"!==v[s];)v=v.parentNode;w.showDropdownMenu(v.getAttribute("data-index"))}},$5g:function(g){var _=this,O=_._view.children[0],d=_.$1g,b=g.target,r=g.relatedTarget;!O.contains(b)&&!d._view.contains(b)||O.contains(r)||d._view.contains(r)||_.hideDropdownMenu()},$7g:function(u){u.preventDefault();var z=this,V=z._view.children[0],Z=z.$1g,g=u.target;if(A.isLeftButton(u)&&V!==g&&V.contains(g))if(Q){for(;"header-item"!==g[s];)g=g.parentNode;var j=g.getAttribute("data-index"),Z=z.$1g,K=z._view.children[0].children[j],H=z.$17g;Z.isShowing()&&z.hideDropdownMenu(),K!==H&&z.showDropdownMenu(j)}else if(Z.isShowing())z.hideDropdownMenu();else{for(;"header-item"!==g[s];)g=g.parentNode;z.showDropdownMenu(g.getAttribute("data-index"))}},$9g:function(b){var O=this,q=O._view,m=O.$1g,X=b.target;if(q.contains(X)){for(var f=q.querySelectorAll(".header-item"),j=R,d=0;d<f.length;d++){var Q=f[d];Q.style.background="",Q.style.color="","mouseover"===b.type?Q.contains(X)&&(j=Q):"mouseout"===b.type&&m.isShowing()&&O.$17g===Q&&(j=Q)}m.isShowing()&&(j||(j=O.$17g),O.showDropdownMenu(j.getAttribute("data-index"))),j&&(j.style.background=O.$14g,j.style.color=O.$15g)}},getShowingMenuIndex:function(){var g=this.$17g;return g?g.getAttribute("data-index"):-1},addTo:function(J){var k=this,y=k._view;m(J,y),k.invalidate()},dispose:function(){var C=this,t=C._view,c=C.$1g;t&&(C._autoShow?(h(t,"mouseover",C.$2g),h(t,"mouseout",C.$4g),h(c._view,"mouseout",C.$4g)):(h(t,"mouseover",C.$8g),h(t,"mouseout",C.$8g),h(t,Q?"touchstart":"mousedown",C.$6g),h(f(),Q?"touchstart":"mousedown",C.$9b)),h(f(),"keydown",C.$3b),c.dispose(),t.parentNode&&Y(t.parentNode,t),C._view=C.$1g=C.$16g=C._items=C.$17g=C.$2g=C.$4g=C.$6g=C.$8g=C.$9b=C.$3b=R)},$19g:function(s,J,f,v){var B=p.initContext(s);p.translateAndScale(B,0,0,1),B.clearRect(0,0,f,v),A.drawStretchImage(B,A.getImage(J),"fill",0,0,f,v),B.restore()},validateImpl:function(){var d,C,h,c=this,q=c._view,V=q.querySelectorAll(".menu-item-icon");for(h=0;h<V.length;h++){var W=V[h];d=W.clientWidth,C=W.clientHeight,d&&C&&(p.setCanvas(W,d,C),c.$19g(W,A.getImage(W.$20g),d,C))}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);