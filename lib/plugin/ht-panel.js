!function(R,Z,k){"use strict";var D="ht",Q=R[D],i=Q.Default,K=i.isTouchable,t=Q.Color,F="px",M="0",S="innerHTML",f="className",V="position",l="absolute",T="width",$="height",c="left",Y="top",g="right",W="bottom",d="max-width",n="max-height",x=null,w="none",h="",A=R.parseInt,u=R.setTimeout,C=i.getInternal(),N=i.animate,m=t.titleIconBackground,p=function(){return document},E=function(o){return p().createElement(o)},G=function(){return E("div")},o=function(){return E("canvas")},H=function(X,M,n){X.style.setProperty(M,n,x)},U=function(z,g){return z.style.getPropertyValue(g)},I=function(q,E){q.appendChild(E)},a=function(g,q){g.removeChild(q)},e=i.eventListenerOptionsFalse,q=(i.eventListenerOptionsTrue,function(b,p,U,L){b.addEventListener(p,U,L?e:e)}),B=function(P){var v=P.scrollWidth,x=P.scrollHeight;return P===p().body&&(v=Math.max(v,p().documentElement.scrollWidth),x=Math.max(x,p().documentElement.scrollHeight)),{width:v,height:x}},j=function(d){var x=d.touches[0];return x?x:d.changedTouches[0]};C.addMethod(i,{panelExpandIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:m,rotation:3.14}]},panelCollapseIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:m}]},panelLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:m},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,44],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:m}]},panelUnLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:m},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,26],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:m}]},panelMinimizeIcon:{width:100,height:100,comps:[{type:"shape",points:[10,35,35,35,35,10],segments:[1,2,2],borderWidth:8,borderColor:m},{type:"shape",points:[90,35,65,35,65,10],segments:[1,2,2],borderWidth:8,borderColor:m},{type:"shape",points:[10,65,35,65,35,90],segments:[1,2,2],borderWidth:8,borderColor:m},{type:"shape",points:[65,90,65,65,90,65],segments:[1,2,2],borderWidth:8,borderColor:m}]},panelRestoreIcon:{width:300,height:300,comps:[{type:"rect",rect:[10,24,268,56],background:m},{type:"rect",rect:[10,118,268,56],background:m},{type:"rect",rect:[10,213,268,56],background:m}]},panelTitleLabelColor:i.labelSelectColor,panelTitleLabelFont:i.labelFont,panelContentLabelFont:i.labelFont,panelTitleBackground:t.titleBackground,panelSeparatorWidth:1,panelSeparatorColor:k},!0);var P=Q.widget.Panel=function(O){var B=this,S=B._view=C.createView(null,B);B.$1i=0,B.$18i=new Q.Notifier,B.$2i="leftTop",H(S,Y,M),H(S,c,M),H(S,V,l),H(S,"overflow","hidden"),B._interactor=new L(B),B.setConfig(O),B.addEventListener(function(q){var u=B.getPanelConfig(q.id),Q=u.content;("beginRestore"===q.kind||"betweenResize"===q.kind||"endToggle"===q.kind)&&(Q&&Q.invalidate&&Q.invalidate(),u.items&&u.items.forEach(function(d){d&&d.content&&d.content.invalidate&&d.content.invalidate()}))})};i.def(P,Z,{ms_v:1,_dragContainment:"parent",setConfig:function(k){function o(c){c.expanded=!c.expanded,m.togglePanel(c.id,!0,!0)}if(k){for(var m=this,C=m._view.parentNode;this._view.children.length;)this._view.removeChild(this._view.children[0]);m._config=k,m.$35i=[],k.expanded==x&&(k.expanded=k.expand!=x?k.expand:!0);var _=m._view,B=m.$24i(k,_,!0),Y=B[2],r=k.width;m.$35i.push(B[1]),k.items&&k.items.forEach(function(c){c.expanded==x&&(c.expanded=c.expand!=x?c.expand:!0);var K=m.$24i(c,Y.children[0]);m.$35i.push(K[1])});var S=G();H(S,T,10+F),H(S,$,10+F),H(S,V,l),H(S,W,M),H(S,g,M),S[f]="resize-area",I(_,S),m.$10i(),k.flowLayout&&H(_,V,"relative"),H(_,"opacity",M),I(p().body,_),r==x&&(r=_.offsetWidth),H(_,T,r+F),H(_,d,r+F);var P=k.content;P&&P.isSelfViewEvent&&(P.setX(0),P.setY(0),P.setWidth(r-2*(k.borderWidth||0)),P.setHeight(k.contentHeight)),k.items&&k.items.forEach(function(w){o(w)}),k.buttons&&k.buttons.indexOf("toggle")<0||o(k),k.minimized==x&&k.minimize!=x&&(k.minimized=k.minimize),k.minimized&&k.minimizable!==!1&&m.minimize(!0),a(p().body,_),H(_,"opacity",h),C&&I(C,_),m.iv()}},getPanelConfig:function(R){var N=this,U=N._config,V=U.items;if(U.id===R)return U;if(V)for(var e=0;e<V.length;e++){var m=V[e];if(m.id===R)return m}},getPanelView:function(y){for(var N=this,U=N.$35i,w=0;w<U.length;w++){var Z=U[w],_=Z.parentNode;if(_.$15i===y)return _}},setDragContainment:function(p){this._dragContainment=p},getDragContainment:function(){return this._dragContainment},$20i:function(){var G=this._config,x=G.restoreIconSize||24;return x},$5i:function($){var d=$.titleIconSize||16;return K&&(d*=1.2),d},$4i:function(E){var Q=E.titleHeight||i.widgetTitleHeight;return Q},setTitle:function(n,s){if(s==x&&(s=this._config.id),s!=x){var q=this.getPanelConfig(s),F=this.getPanelView(s);q.title=n,F.querySelector(".panel-title span").innerHTML=n}},setInnerPanel:function(I){var N,E,c=this,l=I.id,Y=c.$35i,h=!1;if(I.expanded==x&&(I.expanded=!0),l!=x){var z=c.getPanelConfig(l);if(z){h=!0;var j,V=c.getPanelView(l),K=V.parentNode,d=V.children[0];if(V!==c._view){c.$11i();for(j in z)delete z.key;for(j in I)z[j]=I[j];N=c.$24i(I,K,!1,V),E=N[1],K.removeChild(V);for(var X=0;X<Y.length;X++)if(Y[X]===d){Y.splice(X,1,E);break}c.$12i(),z.expanded=!z.expanded,c.togglePanel(z.id,!0,!0),c.iv()}}}if(!h){c.$11i(),N=c.$24i(I,c._view.children[1]),E=N[1],Y.push(E),c._config.items||(c._config.items=[]);var o=c._config.items;if(o.push(I),c.$12i(),o.length>1){var P=o[o.length-2],J=c.getPanelView(P.id).children[0];H(J,"border-bottom",c.$55i(P))}I.expanded=!I.expanded,c.togglePanel(I.id,!0,!0),c.iv()}},removeInnerPanel:function(V){var I,f=this,w=-1,P=f._config.items;if(P)for(I=0;I<P.length;I++){var g=P[I];if(g.id===V){w=I;break}}if(f.$11i(),w>=0){var R=f.$35i,b=f.getPanelView(V),m=b.children[0];for(I=0;I<R.length;I++)if(R[I]===m){R.splice(I,1);break}P.splice(w,1),b.parentNode.removeChild(b)}if(f.$12i(),P.length>0){var E=P[P.length-1],Z=f.getPanelView(E.id).children[0];H(Z,"border-bottom",f.$55i(E))}},$6i:function(P){H(P,"cursor","pointer"),H(P,"display","inline-block"),H(P,"margin-right",(K?8:4)+F),H(P,"vertical-align",Y)},$24i:function(O,l,h,z){var n=this,s=n._config.flowLayout,W=h?l:G(),S=n.$50i(O),q=n.$3i(O,h);W[f]="ht-widget-panel"+(h?" outer-panel":" inner-panel"),O.borderWidth==x&&(O.borderWidth=h?2:0);var v=O.borderWidth;if(v="0 "+v+F+" "+v+F+" "+v+F+" ",H(W,"border-width",v),H(W,"border-color",O.titleBackground||i.panelTitleBackground),H(W,"border-style","solid"),I(W,q),I(W,S),h||(z?l.insertBefore(W,z):I(l,W)),!s&&h&&O.minimizable!==!1){var y=o(),c=n.$20i(),g=O.restoreToolTip;C.setCanvas(y,c,c),y[f]="control-button button-minimize button-minimize-restore",n.$6i(y),H(y,"display","none"),I(l,y),y.title=g||""}var N=O.panelBackground||O.titleBackground||i.panelTitleBackground;if(H(W,"background-color",N),O.id==x){for(var A=n.$1i++;n.getPanelConfig(A);)A=n.$1i++;O.id=A}return W.$15i=O.id,O.width&&(W.style.width=O.width+F),[W,q,S]},$9i:function(u){var H=o();H[f]="control-button button-toggle button-toggle-expand",H.title=u.toggleToolTip||"";var j=this.$4i(u),v=this.$5i(u);return this.$6i(H),C.setCanvas(H,v,j),H},$8i:function(Y){var v=o(),h="control-button button-independent-switch";v[f]=Y.independent===!0?h+" button-independent-switch-on":h+" button-independent-switch-off",v.title=Y.independentSwitchToolTip||"";var F=this.$4i(Y),s=this.$5i(Y);return this.$6i(v),C.setCanvas(v,s,F),v},$7i:function(i){var g=o();g[f]="control-button button-minimize button-minimize-minimize",g.title=i.minimizeToolTip||"";var U=this.$4i(i),Z=this.$5i(i);return this.$6i(g),C.setCanvas(g,Z,U),g},$55i:function(G){var f=this._config,g=f.items,Q=G.separatorWidth||i.panelSeparatorWidth,y=G.titleBackground||i.panelTitleBackground,Z=G.expanded!==!1?y:G.separatorColor||i.panelSeparatorColor||i.brighter(y);return(f===G||g&&g.indexOf(G)===g.length-1)&&(Q=0),Q+F+" solid "+Z},$3i:function(b,y){var m=this,v=m._config.flowLayout,_=G(),n=G(),d=m.$4i(b),h=b.titleBackground,L=b.titleColor,B=b.titleIcon,t=b.buttons;if(_[f]="panel-title",H(_,V,"relative"),H(_,"background",h||i.panelTitleBackground),H(_,"color",L||i.panelTitleLabelColor),H(_,Y,M),H(_,"box-sizing","border-box"),H(_,"-moz-box-sizing","border-box"),H(_,"padding","0 5px 0 0"),H(_,T,"100%"),H(_,"cursor","default"),H(_,"white-space","nowrap"),H(_,"font",i.panelTitleLabelFont),B){var J=o();J[f]="control-button panel-title-icon";var u=m.$4i(b),e=m.$5i(b);m.$6i(J),C.setCanvas(J,e,u),I(_,J)}var P=E("span");H(P,"display","inline-block"),H(P,"margin-left","5px"),P[S]="<span>"+b.title+"</span>",I(_,P),H(_,"line-height",d+F),n[f]="panel-title-controls",H(n,V,l),H(n,c,M),H(n,g,5+F),H(n,Y,M),H(n,W,M),H(n,"text-align",g);var Q=function(){var Y=m.$9i(b);I(n,Y)},U=function(){if(!v&&y&&b.minimizable!==!1){var r=m.$7i(b);I(n,r)}},p=function(){if(!y){var F=m.$8i(b);I(n,F)}},K=function(U){var G=o();G[f]="control-button custombutton-"+U.name,G.title=U.toolTip||"",G._action=U.action;var E=m.$4i(b),V=m.$5i(b);m.$6i(G),C.setCanvas(G,V,E),I(n,G)};if(t)for(var z=0;z<t.length;z++){var O=t[z];"string"==typeof O?"minimize"===O?U():"independentSwitch"===O?p():"toggle"===O&&Q():"object"==typeof O&&K(O)}else U(),Q();return I(_,n),_},$50i:function(Q){var x=G(),l=Q.contentHeight,m=G();H(m,V,"relative"),x[f]="panel-body",H(x,"overflow","hidden");var Z=Q.contentBackground;if(Z===k&&(Z="white"),H(x,"background",Z),H(x,"font",i.panelContentLabelFont),I(x,m),Q.content){var P,D=Q.content;D.getView?(I(m,D.getView()),P=m.children[0]):D instanceof Element?(I(m,D),P=m.children[0]):m[S]=D,D.isSelfViewEvent||P&&(H(P,T,"100%"),H(P,$,"100%")),l&&H(m,$,l+F)}return x},$10i:function(){var J=this,i=J._config,m=J._view,N=m.querySelector(".resize-area").style;N.display=i.flowLayout||i.minimized===!0||i.expanded===!1?w:"block"},$11i:function(){var K=this._view,U=K.children[1];this.$13i>=0?this.$13i++:this.$13i=1,H(U,n,h),H(K,d,h)},$12i:function(){var D=--this.$13i;if(0===D){var w=this._view,E=w.children[1];H(E,n,E.scrollHeight+F),H(w,d,w.offsetWidth+F)}},$14i:function(){var D=this._view,p=D.children[0],b=p.children[1].children,X=this._config,a=0;D.$26i=D.offsetWidth,a+=p.children[0].offsetWidth,X.titleIcon&&(a+=p.children[1].offsetWidth,b=p.children[2].children);for(var q=0;q<b.length;q++){var Z=b[q];a+=Z.offsetWidth+5}D.$51i=a+15},togglePanel:function(w,j,O){function X(o){var s=o.target,Q=s.parentNode,J=L.getPanelConfig(Q.$15i);delete Q.$19i,s!==$&&L.$12i(),L.$18i.fire({kind:"endToggle",target:L,id:J.id})}for(var L=this,z=L._view,$=z.children[1],R=x,Q=L.$35i,J=Q.length,y=L._config.exclusive,i=L.$2i,u=[],t=L._config.narrowWhenCollapse,E=0;J>E;E++){var _=Q[E],p=_.parentNode,s=p.$15i,r=L.getPanelConfig(s);s===w&&(R=p),!j&&y&&r.expanded&&p!==z&&s!==w&&r.independent!==!0&&u.push(p)}if(R&&!R.$19i){R.$19i=!0;var W=R.children[1],Z=R.querySelector(".button-toggle"),G=L.getPanelConfig(R.$15i);if(!Z)return;R===z||G.expanded||G.independent===!0||u.forEach(function(b){L.togglePanel(b.$15i,!0)}),R!==z&&L.$11i();var D=200;if(O&&(D=0),L.$18i.fire({kind:"beginToggle",target:L,id:R.$15i}),G.expanded){var I=function(){Z[f]="control-button button-toggle",Z[f]+=i.indexOf("Bottom")>=0?" button-toggle-expand":" button-toggle-collapse",H(W,T,W.clientWidth+F),G.expanded=!1,H(R.children[0],"border-bottom",L.$55i(G)),N(W).duration(D).set("opacity",M).set(n,M).end(X),t&&R===z&&N(R).duration(D).set(d,R.$51i+F).end(),R[f]+=" panel-collapse",N(R).duration(D).set("padding-bottom",M).end(),L.$28i(G,!0),L.$10i()};t&&R===z&&L.$14i(),I()}else Z[f]="control-button button-toggle",Z[f]+=i.indexOf("Bottom")>=0?" button-toggle-collapse":" button-toggle-expand",H(W,T,h),G.expanded=!0,H(R.children[0],"border-bottom",L.$55i(G)),N(W).duration(D).set("opacity","1").set(n,W.scrollHeight+F).end(X),t&&R===z&&N(R).duration(D).set(d,(R.$26i||R.offsetWidth)+F).end(),R[f]=R[f].replace(" panel-collapse",h),N(R).duration(D).end(),L.$28i(G,!0),L.$10i()}},$16i:function(){var X=this._view,U=X.$22i,u=X.$23i,d=this.$2i;return U==x&&(d.indexOf(c)>=0?U=X.$22i=0:d.indexOf(g)>=0&&(U=X.$22i=100)),u==x&&(d.indexOf("Top")>=0?u=X.$23i=0:d.indexOf("Bottom")>=0&&(u=X.$23i=100)),[U,u]},$25i:function(){var B=this,m=B._view,L=m.$21i,n=B.$20i(),u=B.$16i(),k=u[0],r=u[1],l=B.$2i;m.children[0].style.display=w,m.children[1].style.display=w,m.children[2].style.display=h,H(m,"padding",M),H(m,d,n+F),"leftTop"===l?(H(m,c,A(U(m,c))+(L.width-n)*k/100+F),H(m,Y,A(U(m,Y))+(L.height-n)*r/100+F)):"leftBottom"===l?(H(m,c,A(U(m,c))+(L.width-n)*k/100+F),H(m,W,A(U(m,W))+(L.height-n)*(1-r/100)+F)):"rightTop"===l?(H(m,g,A(U(m,g))+(L.width-n)*(1-k/100)+F),H(m,Y,A(U(m,Y))+(L.height-n)*r/100+F)):"rightBottom"===l&&(H(m,g,A(U(m,g))+(L.width-n)*(1-k/100)+F),H(m,W,A(U(m,W))+(L.height-n)*(1-r/100)+F)),m[f]+=" panel-minimized",B.$18i.fire({kind:"endMinimize",target:B,id:m.$15i})},$17i:function(){var E=this,R=E._config,j=E._view;H(j,"-webkit-transform",h),H(j,"-ms-transform",h),H(j,"transform",h),R.minimized?E.$25i():(E.$18i.fire({kind:"endRestore",target:E,id:R.id}),j[f]=j[f].replace(" panel-minimized",h)),delete j.$19i},minimize:function(Z){var z=this,L=z._view;if(!L.$19i&&L.children[0].style.display!==w){var S=z._config,m=L.getBoundingClientRect(),W=z.$20i(),d=m.width,_=m.height,k=W/d,c=W/_,F=z.$16i(),O=F[0],C=F[1];L.$52i=k,L.$53i=c,L.$21i=m,z.$18i.fire({kind:"beginMinimize",target:z,id:L.$15i});var g=200;Z&&(g=0),S.minimized=!0,L.$19i=!0,S.expanded&&(L.$26i=L.offsetWidth);var Q=O+"% "+C+"%";H(L,"-webkit-transform-origin",Q),H(L,"-ms-transform-origin",Q),H(L,"transform-origin",Q),N(L).duration(g).scale(k,c).end(function(){z.$17i()}),z.$10i()}},restore:function(){var k,L,_,T,D,s,i,l,V,M,P,r,z=this,x=z._view,b=x.parentNode,I=z._config;if(!x.$19i&&I.minimized){var n=x.$21i,o=x.$52i,y=x.$53i,h=(I.borderWidth+F,z.$20i()),f=B(b),S=z.$2i;"leftTop"===S?(k=A(U(x,c)),_=A(U(x,Y)),D=k,i=_,V=k+n.width-f.width,M=_+n.height-f.height,V>0&&(V>=k?k=0:k-=V),M>0&&(M>=_?_=0:_-=M),P=100*((D-k)/(n.width-h)),r=100*((i-_)/(n.height-h)),H(x,c,k+F),H(x,Y,_+F)):"leftBottom"===S?(k=A(U(x,c)),T=A(U(x,W)),D=k,l=T,V=k+n.width-f.width,M=T+n.height-f.height,V>0&&(V>=k?k=0:k-=V),M>0&&(M>=T?T=0:T-=M),P=100*((D-k)/(n.width-h)),r=100*(1-(l-T)/(n.height-h)),H(x,c,k+F),H(x,W,T+F)):"rightTop"===S?(L=A(U(x,g)),_=A(U(x,Y)),s=L,i=_,V=L+n.width-f.width,M=_+n.height-f.height,V>0&&(V>=L?L=0:L-=V),M>0&&(M>=_?_=0:_-=M),P=100*(1-(s-L)/(n.width-h)),r=100*((i-_)/(n.height-h)),H(x,g,L+F),H(x,Y,_+F)):"rightBottom"===S&&(L=A(U(x,g)),T=A(U(x,W)),s=L,l=T,V=L+n.width-f.width,M=T+n.height-f.height,V>0&&(V>=L?L=0:L-=V),M>0&&(M>=T?T=0:T-=M),P=100*(1-(s-L)/(n.width-h)),r=100*(1-(l-T)/(n.height-h)),H(x,g,L+F),H(x,W,T+F)),x.children[0].style.display="block",x.children[1].style.display="block",x.children[2].style.display=w,H(x,"-webkit-transform","scale("+o+", "+y+")"),H(x,"-ms-transform","scale("+o+", "+y+")"),H(x,"transform","scale("+o+", "+y+")"),x.$22i=P,x.$23i=r,H(x,"-webkit-transform-origin",P+"% "+r+"%"),H(x,"-ms-transform-origin",P+"% "+r+"%"),H(x,"transform-origin",P+"% "+r+"%"),I.narrowWhenCollapse&&!I.expanded?H(x,d,x.$51i+F):H(x,d,x.$26i+F),z.$18i.fire({kind:"beginRestore",target:z,id:x.$15i}),x.$19i=!0,I.minimized=!1,u(function(){N(x).scale(1,1).end(function(){z.$17i()})},30),z.$10i()}},addEventListener:function(x,o,B){this.$18i.add(x,o,B)},removeEventListener:function(P,A){this.$18i.remove(P,A)},setPosition:function(K,v){var m=this._view,T=this.$2i;"leftTop"===T?(H(m,c,K+F),H(m,Y,v+F),H(m,g,h),H(m,W,h)):"leftBottom"===T?(H(m,c,K+F),H(m,W,v+F),H(m,g,h),H(m,Y,h)):"rightTop"===T?(H(m,g,K+F),H(m,Y,v+F),H(m,c,h),H(m,W,h)):"rightBottom"===T&&(H(m,g,K+F),H(m,W,v+F),H(m,c,h),H(m,Y,h)),delete m.$22i,delete m.$23i},getPosition:function(){var d=this._view,P=this.$2i;return"leftTop"===P?{x:A(U(d,c)),y:A(U(d,Y))}:"leftBottom"===P?{x:A(U(d,c)),y:A(U(d,W))}:"rightTop"===P?{x:A(U(d,g)),y:A(U(d,Y))}:"rightBottom"===P?{x:A(U(d,g)),y:A(U(d,W))}:void 0},setPositionRelativeTo:function(O){var Y=this,q=Y._view.querySelectorAll(".button-toggle"),K="control-button button-toggle",i=Y.getPosition();Y.$2i=O,Y.setPosition(i.x,i.y);for(var o=0;o<q.length;o++){var s=q[o],e=Y.getPanelConfig(s.parentNode.parentNode.parentNode.$15i);s[f]=e.expanded?O.indexOf("Bottom")>=0?K+" button-toggle-collapse":K+" button-toggle-expand":O.indexOf("Bottom")>=0?K+" button-toggle-expand":K+" button-toggle-collapse"}Y.iv()},getPositionRelativeTo:function(){return this.$2i},invalidate:function(g){var r=this;r._68I||(r._68I=1,i.callLater(r.validate,r,x,g),r.onInvalidated&&r.onInvalidated(),r.fireViewEvent("invalidate"));var D=this._config,M=D.content;M&&M.invalidate&&M.invalidate(),D.items&&D.items.forEach(function(n){n&&n.content&&n.content.invalidate&&n.content.invalidate()})},getIconStretch:function(){var L=this._config.iconStretch||"fill";return L},$27i:function(b,o,s,k,g){var m=C.initContext(b);C.translateAndScale(m,0,0,1),m.clearRect(0,0,s,s);var N=(s-k)/2;i.drawStretchImage(m,i.getImage(o),this.getIconStretch(g),0,N,k,k),m.restore()},$28i:function(f){var X,j,U,m=this,S=f.id,C=m.getPanelView(S),Q=C.querySelector(".button-toggle"),b=m.$2i.indexOf("Bottom")>=0;if(j=b?i.panelCollapseIcon:i.panelExpandIcon,U=b?i.panelExpandIcon:i.panelCollapseIcon,Q){X=f.expanded?i.getImage(U):i.getImage(j);var z=m.$4i(f),w=m.$5i(f);m.$27i(Q,X,z,w,"toggle")}},$29i:function(l){var n,f=this,y=l.id,S=f.getPanelView(y),_=S.querySelector(".button-independent-switch"),j=i.panelUnLockIcon,r=i.panelLockIcon;if(_){n=l.independent!==!0?i.getImage(r):i.getImage(j);var m=f.$4i(l),q=f.$5i(l);f.$27i(_,n,m,q,"switch")}},$30i:function(p){var f=this,m=p.id,N=f.getPanelView(m),O=N.querySelector(".button-minimize-minimize"),x=i.panelMinimizeIcon;if(O){var c=f.$4i(p),X=f.$5i(p);f.$27i(O,i.getImage(x),c,X,"miminize")}},$31i:function(a){var n=this,d=a.id,P=n.getPanelView(d),q=P.querySelector(".button-minimize-restore"),V=a.titleIcon||i.panelRestoreIcon;if(q){var k=n.$20i();n.$27i(q,i.getImage(V),k,k,"restore")}},$32i:function(t){var y=this,c=t.id,U=y.getPanelView(c);if(t.buttons){var P=t.buttons;P.forEach(function(j){var m=j.name,f=j.icon;if(m&&f){var G=U.querySelector(".custombutton-"+m);if(G){var c=y.$4i(t),V=y.$5i(t)-1;y.$27i(G,i.getImage(f),c,V,"custom")}}})}},$33i:function(S){var C=this,R=S.id,y=C.getPanelView(R),X=y.querySelector(".panel-title-icon"),Q=S.titleIcon;if(X&&Q){var n=C.$4i(S),K=C.$5i(S);C.$27i(X,i.getImage(Q),n,K,"title")}},validateImpl:function(){var F=this,q=F._config;F.$28i(q),F.$30i(q),F.$31i(q),F.$32i(q),F.$33i(q),q.items&&q.items.forEach(function(M){F.$28i(M),F.$29i(M),F.$32i(M)})}});var L=function(b){var $=this,y=b.getView();$.$34i=b,$.addListeners(),q(y,"dblclick",$.$42i.bind($))};i.def(L,Z,{ms_listener:1,getView:function(){return this.$34i.getView()},clear:function(){delete this.$37i,delete this.$38i,delete this.$36i,delete this.$39i},$42i:function(y){for(var $=this.$34i,_=y.target,p=$.$35i,Q=p.length,w=0;Q>w;w++){var R=p[w];R.contains(_)&&(y.preventDefault(),$.togglePanel(R.parentNode.$15i))}},handle_touchstart:function(u){var a=this,z=a.$34i,X=z._config,R=X.flowLayout,l=u;if(i.preventDefault(u),i.isLeftButton(u)){var d=u.target,e=z.getView().children[0],h=z.getView().querySelector(".button-minimize-restore");K&&(l=j(u));var Y=a.$40i={x:l.pageX,y:l.pageY};a.$41i={x:Y.x,y:Y.y},(!R&&e.contains(d)||h&&h.contains(d))&&(a.$38i=!0,i.startDragging(a,u)),!R&&a.handle_mousemove(u)&&(a.$37i=!0,i.startDragging(a,u),z.$11i())}},handle_mousedown:function(m){this.handle_touchstart(m)},handle_touchend:function(A){var v=this,W=v.$34i,S=A.target,E=W.$35i,F=E.length,n=0,U=W.getView(),N=U.querySelector(".button-minimize"),b=U.querySelector(".button-minimize-restore");if(!v.$39i&&!v.$36i){if(N&&N.contains(S)||b&&b.contains(S))A.preventDefault(),W._config.minimized?W.restore():W.minimize();else for(;F>n;n++){var e=E[n],h=e.parentNode,z=h.$15i,m=W.getPanelConfig(z),R=e.querySelector(".button-toggle"),u=e.querySelector(".button-independent-switch");if(R===S)A.preventDefault(),W.togglePanel(z);else if(u===S){A.preventDefault();var o="button-independent-switch-off",p="button-independent-switch-on";m.independent=m.independent==x?!0:!m.independent,u[f]=m.independent?u[f].replace(o,p):u[f].replace(p,o),W.$29i(m)}else S[f]&&S[f].indexOf("control-button custombutton-")>=0&&e.contains(S)&&S._action.call(W,m,W.getPanelView(z),A)}delete v.$40i,delete v.$41i}},handle_mouseup:function(s){this.handle_touchend(s)},handleWindowTouchEnd:function(){var m=this,X=m.$34i;m.$37i&&m.$36i?(X.$18i.fire({kind:"endResize",target:X,id:X.getView().$15i}),X.$12i()):m.$38i&&m.$39i&&X.$18i.fire({kind:"endMove",target:X,id:X.getView().$15i}),this.clear()},handleWindowMouseUp:function(c){this.handleWindowTouchEnd(c)},handle_mousemove:function(u){var E=this,J=E.getView(),s=J.querySelector(".resize-area"),I=s.getBoundingClientRect(),P={x:I.left,y:I.top,width:I.width,height:I.height};u=K?j(u):u;var w=u.clientX,C=u.clientY,W=E.$34i._config;return W.expanded&&W.minimized!==!0&&i.containsPoint(P,{x:w,y:C})?(J.style.cursor="nwse-resize",!0):(J.style.cursor=h,void 0)},handleWindowTouchMove:function(n){n.preventDefault();var z=n;K&&(z=j(n));var l=this,w=l.$40i,G=l.$41i;if(!(G.x==w.x&&G.y==w.y&&i.getDistance(G,{x:z.pageX,y:z.pageY})<=1)){var m=l.$34i,u=l.getView(),h=u.parentNode,L=m._config,v=L.resizeMode||"wh",d=z.pageX-w.x,C=z.pageY-w.y,N=m.$2i;if(l.$37i){var Q=u.children[1].children[0],r=u.offsetWidth,V=Q.offsetHeight,o=r+d,Z=V+C;o=Math.max(o,100),Z=Math.max(Z,100),"w"===v?(H(u,T,o+F),L.width=o):"h"===v?(H(Q,$,Z+F),L.contentHeight=Z):"wh"===v&&(H(u,T,o+F),H(Q,$,Z+F),L.width=o,L.contentHeight=Z),N.indexOf("right")>=0&&H(u,g,A(U(u,g))-(o-r)+F),N.indexOf("Bottom")>=0&&H(u,W,A(U(u,W))-(Z-V)+F),w.x=z.pageX,w.y=z.pageY;var M=L.content;M&&M.isSelfViewEvent&&(M.setX(0),M.setY(0),M.setWidth(L.width-2*(L.borderWidth||0)),M.setHeight(L.contentHeight)),l.$36i?m.$18i.fire({kind:"betweenResize",target:m,id:m.getView().$15i}):(l.$36i=!0,m.$18i.fire({kind:"beginResize",target:m,id:m.getView().$15i}))}else if(l.$38i){var x,O,b,X,a,P,I,S,y,q,s=u.getBoundingClientRect(),E=s.width,_=s.height,f=B(h),k=f.width,D=f.height,t=m._dragContainment;"leftTop"===N?(x=A(U(u,c))||0,b=A(U(u,Y))||0,a=x+d,I=b+C,"parent"===t&&(a+E>k&&(a=k-E),I+_>D&&(I=D-_),0>a&&(a=0),0>I&&(I=0)),y=a-x,q=I-b,m.setPosition(a,I),w.x+=y,w.y+=q):"rightBottom"===N?(O=A(U(u,g))||0,X=A(U(u,W))||0,P=O-d,S=X-C,"parent"===t&&(0>P&&(P=0),0>S&&(S=0),P+E>k&&(P=k-E),S+_>D&&(S=D-_)),y=P-O,q=S-X,m.setPosition(P,S),w.x-=y,w.y-=q):"rightTop"===N?(O=A(U(u,g))||0,b=A(U(u,Y))||0,P=O-d,I=b+C,"parent"===t&&(0>P&&(P=0),0>I&&(I=0),P+E>k&&(P=k-E),I+_>D&&(I=D-_)),y=P-O,q=I-b,m.setPosition(P,I),w.x-=y,w.y+=q):"leftBottom"===N&&(x=A(U(u,c))||0,X=A(U(u,W))||0,a=x+d,S=X-C,"parent"===t&&(0>a&&(a=0),0>S&&(S=0),a+E>k&&(a=k-E),S+_>D&&(S=D-_)),y=a-x,q=S-X,m.setPosition(a,S),w.x+=y,w.y-=q),l.$39i?m.$18i.fire({kind:"betweenMove",target:m,id:m.getView().$15i}):(l.$39i=!0,m.$18i.fire({kind:"beginMove",target:m,id:m.getView().$15i}))}}},handleWindowMouseMove:function($){this.handleWindowTouchMove($)}});var b=Q.widget.PanelGroup=function(R){var j=this,w=j._view=C.createView(null,j);w.style.border="1px dashed black",w.style.position="absolute",w.style.background="rgba(120, 120, 120, 0.4)",j.$48i=new Q.List,j._tolerance=100,j._config=R||{hGap:0,vGap:0},j.bindHandlePanelMove=j.handlePanelMove.bind(j),j.bindHandlePanelEvent=j.handlePanelEvent.bind(j),j.invalidate()};i.def(b,Z,{invalidate:function(){var J=this;J._68I||(J._68I=1,u(function(){J.validate()},50))},validate:function(){if(this._68I){delete this._68I;var F=this.$48i.get(0);if(F){var r=F.getView().parentNode;r&&(this.layoutPanels(r,"leftTop"),this.layoutPanels(r,"rightTop"),this.layoutPanels(r,"leftBottom"),this.layoutPanels(r,"rightBottom"))}}},setLeftTopPanels:function(){var $=this,T=$.$43i,F=$.$48i;T==x&&(T=$.$43i=new Q.List);for(var Z=0;Z<arguments.length;Z++){var g=arguments[Z];if("string"==typeof g)T.$49i=g;else{if(g._config.flowLayout)continue;g.setPositionRelativeTo("leftTop"),T.contains(g)||T.add(g),F.contains(g)||$.add(g)}}},setRightTopPanels:function(){var Z=this,r=Z.$44i,m=Z.$48i;r==x&&(r=Z.$44i=new Q.List);for(var j=0;j<arguments.length;j++){var J=arguments[j];if("string"==typeof J)r.$49i=J;else{if(J._config.flowLayout)continue;J.setPositionRelativeTo("rightTop"),r.contains(J)||r.add(J),m.contains(J)||Z.add(J)}}},setLeftBottomPanels:function(){var v=this,s=v.$45i,d=v.$48i;s==x&&(s=v.$45i=new Q.List);for(var c=0;c<arguments.length;c++){var m=arguments[c];if("string"==typeof m)s.$49i=m;else{if(m._config.flowLayout)continue;m.setPositionRelativeTo("leftBottom"),s.contains(m)||s.add(m),d.contains(m)||v.add(m)}}},setRightBottomPanels:function(){var g=this,p=g.$46i,v=g.$48i;p==x&&(p=g.$46i=new Q.List);for(var E=0;E<arguments.length;E++){var K=arguments[E];if("string"==typeof K)p.$49i=K;else{if(K._config.flowLayout)continue;K.setPositionRelativeTo("rightBottom"),p.contains(K)||p.add(K),v.contains(K)||g.add(K)}}},add:function(y){if(!y._config.flowLayout){var T=this,b=T.$48i;b.contains(y)||(y.addEventListener(T.bindHandlePanelMove),y.addEventListener(T.bindHandlePanelEvent),b.add(y))}},remove:function(y){var z=this,W=z.$48i;W.contains(y)&&(y.removeEventListener(z.bindHandlePanelMove),y.removeEventListener(z.bindHandlePanelEvent),W.remove(y),z.$43i.contains(y)&&z.$43i.remove(y),z.$44i.contains(y)&&z.$44i.remove(y),z.$45i.contains(y)&&z.$45i.remove(y),z.$46i.contains(y)&&z.$46i.remove(y))},layoutPanels:function(s,C,i){var l=this,S=l._config,K=S.hGap||0,$=S.vGap||0;if(s){var L=l.$43i;if("leftBottom"===C?L=l.$45i:"rightTop"===C?L=l.$44i:"rightBottom"===C&&(L=l.$46i),!L)return;var n=L.$49i,d=K,O=$;if(s.contains(l._view)&&s.removeChild(l._view),L&&L.size()>0)for(var g=0;g<L.size();g++){var e=L.get(g),z=e.getView();s=s||z.parentNode,i!==g?e.setPosition(d,O):("leftTop"===C?(l._view.style.right="",l._view.style.bottom="",l._view.style.left=d+F,l._view.style.top=O+F):"leftBottom"===C?(l._view.style.right="",l._view.style.top="",l._view.style.left=d+F,l._view.style.bottom=O+F):"rightTop"===C?(l._view.style.left="",l._view.style.bottom="",l._view.style.right=d+F,l._view.style.top=O+F):"rightBottom"===C&&(l._view.style.left="",l._view.style.top="",l._view.style.right=d+F,l._view.style.bottom=O+F),l._view.style.width=z.offsetWidth+F,l._view.style.height=z.offsetHeight+F,s.insertBefore(l._view,z)),"h"===n?d+=z.offsetWidth+K:"v"===n&&(O+=z.offsetHeight+$)}}},handlePanelEvent:function(z){if("beginToggle"===z.kind||"endToggle"===z.kind||"beginRestore"===z.kind||"endMinimize"===z.kind||"endResize"===z.kind){var H=this,l=z.target,q=l.getView(),g=q.parentNode,M=H.$43i,s=H.$44i,Z=H.$45i,b=H.$46i,c=H._config,V=x,$=x,w=l.$47i;if(w==x&&(w=l.$47i=0),"beginToggle"===z.kind?w=l.$47i=w+1:"endToggle"===z.kind&&(w=l.$47i=w-1),M&&M.contains(l)?(V="leftTop",$=M):Z&&Z.contains(l)?(V="leftBottom",$=Z):s&&s.contains(l)?(V="rightTop",$=s):b&&b.contains(l)&&(V="rightBottom",$=b),"beginToggle"===z.kind&&V&&1===w){var r=G(),i=r.style,A=$.$49i,L="each";i.fontSize="0",i.position="absolute",i.width="100%","leftTop"===V?(i.left=0,i.top=0):"leftBottom"===V?(i.left=0,i.bottom=0,"v"===A&&(L="reverseEach")):"rightTop"===V?(i.right=0,i.top=0,i.textAlign="right","h"===A&&(L="reverseEach")):"rightBottom"===V&&(i.right=0,i.bottom=0,i.textAlign="right",L="reverseEach"),$[L](function(h){var v=h.getView(),U=v.style,Q=G();U.position="static",Q.style.textAlign="left",Q.style.position="relative",Q.style.display="inline-block","leftTop"===V?(Q.style.marginLeft=c.hGap+F,Q.style.marginTop=c.vGap+F):"leftBottom"===V?(Q.style.marginLeft=c.hGap+F,Q.style.marginBottom=c.vGap+F):"rightTop"===V?(Q.style.marginRight=c.hGap+F,Q.style.marginTop=c.vGap+F):"rightBottom"===V&&(Q.style.marginRight=c.hGap+F,Q.style.marginBottom=c.vGap+F),Q.appendChild(v),r.appendChild(Q),"h"===A?Q.style.verticalAlign="leftTop"===V||"rightTop"===V?"top":"bottom":r.appendChild(E("br"))}),H.$54i=r,g.appendChild(r)}else"endToggle"===z.kind&&V&&0===w?u(function(){g=g.parentNode.parentNode,g.removeChild(H.$54i),delete H.$54i,$.each(function(Z){var j=Z.getView(),o=j.style;o.position="absolute",g.appendChild(j)}),H.layoutPanels(g,V)},30):("beginRestore"===z.kind||"endMinimize"===z.kind||"endResize"===z.kind)&&V&&H.layoutPanels(g,V)}},handlePanelMove:function(b){if(!(b.kind.indexOf("Move")<0)){var j=this,m=j._config,z=m.hGap||0,s=m.vGap||0,X=b.target,y=X._view,w=y.getBoundingClientRect(),l=w.width,F=w.height,Y=l/2,u=F/2,n=y.parentNode,L=j.$43i,U=j.$44i,R=j.$45i,e=j.$46i,C=n.getBoundingClientRect(),J=j._tolerance;if("endMove"===b.kind){var o=j._corner;o&&(X.setPositionRelativeTo(o),j.layoutPanels(n,o)),delete j._corner}if("betweenMove"===b.kind){var S=C.left,q=C.top,D=C.width,B=C.height,k=w.left+l/2,h=w.top+F/2;L==x&&(L=j.$43i=new Q.List),R==x&&(R=j.$45i=new Q.List),U==x&&(U=j.$44i=new Q.List),e==x&&(e=j.$46i=new Q.List),delete j._corner,L.contains(X)?(L.remove(X),j.layoutPanels(n,"leftTop")):R.contains(X)?(R.remove(X),j.layoutPanels(n,"leftBottom")):U.contains(X)?(U.remove(X),j.layoutPanels(n,"rightTop")):e.contains(X)&&(e.remove(X),j.layoutPanels(n,"rightBottom"));var W=function(V,f){var o=S+z,e=q+s;if(0===f.size()){var g=o+Y,d=e+u;"leftBottom"===V?d=q+B-s-u:"rightTop"===V?g=S+D-z-Y:"rightBottom"===V&&(g=S+D-z-Y,d=q+B-s-u);var P=k-g,v=h-d,H=Math.sqrt(P*P+v*v);if(J>H)return j._corner=V,f.add(X),j.layoutPanels(n,V,0),!0}else if(1===f.size()){var c=f.get(0),F=c.getView().getBoundingClientRect(),r=F.left+Y,I=F.top+u,N=F.left+F.width+z+Y,Q=e+u,w=o+Y,t=F.top+F.height+s+u;"leftBottom"===V?(I=F.top+F.height-u,Q=q+B-s-u,t=F.top-s-u):"rightTop"===V?(r=F.left+F.width-Y,N=F.left-z-Y,w=S+D-z-Y):"rightBottom"===V&&(r=F.left+F.width-Y,I=F.top+F.height-u,N=F.left-z-Y,Q=q+B-s-u,w=S+D-z-Y,t=F.top-s-u);var m=k-r,M=h-I,_=k-N,l=h-Q,K=k-w,i=h-t,W=A(Math.sqrt(m*m+M*M)),Z=A(Math.sqrt(_*_+l*l)),G=A(Math.sqrt(K*K+i*i)),L=[W,Z,G];L.sort(function(K,c){return K-c});var O=L[0];if(J>O){if(j._corner=V,O===W)return f.add(X,0),j.layoutPanels(n,V,0),!0;if(O===Z)return f.add(X),f.$49i="h",j.layoutPanels(n,V,1),!0;if(O===G)return f.add(X),f.$49i="v",j.layoutPanels(n,V,1),!0}}else if(f.size()>1){for(var T=x,p={},a=[],U=f.$49i,b=0;b<f.size();b++){var y=f.get(b),R=y.getView(),C=R.getBoundingClientRect(),E=C.left+Y,$=C.top+u;"leftBottom"===V?$=C.top+C.height-u:"rightTop"===V?E=C.left+C.width-Y:"rightBottom"===V&&(E=C.left+C.width-Y,$=C.top+C.height-u),b===f.size()-1&&(T=C);var P=k-E,v=h-$,H=A(Math.sqrt(P*P+v*v));p[H]=b,a.push(H)}"leftTop"===V&&"h"===U?(g=T.left+T.width+z+Y,d=e+u):"leftTop"===V&&"v"===U?(g=o+Y,d=T.top+T.height+s+u):"leftBottom"===V&&"h"===U?(g=T.left+T.width+z+Y,d=q+B-s-u):"leftBottom"===V&&"v"===U?(g=o+Y,d=T.top-s-u):"rightTop"===V&&"h"===U?(g=T.left-z-Y,d=e+u):"rightTop"===V&&"v"===U?(g=S+D-z-Y,d=T.top+T.height+s+u):"rightBottom"===V&&"h"===U?(g=T.left-z-Y,d=q+B-s-u):"rightBottom"===V&&"v"===U&&(g=S+D-z-Y,d=T.top-s-u),P=k-g,v=h-d,H=A(Math.sqrt(P*P+v*v)),p[H]=b,a.push(H),a.sort(function($,D){return $-D});var O=a[0];if(J>O)return j._corner=V,f.add(X,p[O]),j.layoutPanels(n,V,p[O]),!0}};W("leftTop",L)||W("leftBottom",R)||W("rightTop",U)||W("rightBottom",e)}}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);