!function(k,v,$){"use strict";var K="ht",j=k[K],S=null,Z=Math,W=Z.PI,U=Z.cos,u=Z.sin,A=Z.abs,z=Z.max,i=Z.sqrt,m=1e-5,R=j.Default,M=R.def,D=R.startAnim,h=R.createMatrix,w=R.transformVec,V=R.getInternal(),y=V.addMethod,b=V.superCall,t=V.toPointsArray,n=V.createNormals,Y=V.toFloatArray,O=V.glMV,q=V.batchShape,Q=V.createNodeMatrix,p=V.getFaceInfo,J=V.transformAppend,X=V.drawFaceInfo,P=V.createAnim,H=V.cube(),c=H.is,I=H.vs,o=H.uv,C=V.ui(),E=j.Node,F=j.Shape,d="h",s="v",f="front",e="back",g="left",N="right",T="top",L="bottom",x="dw.expanded",B=".expanded",G="dw.angle",a=".angle",r=function(y,Q,q){M(K+"."+y,Q,q)},_=function(D,h,J){J?D.push(h.x,h.y):D.push(h.x,h.y,h.z)},l=[1,0,0],Xm=function(v,y,N,Q){var G,e,E,M,K=0,z=[];if(Q)for(G=Q.length;G>K;K+=3)e=Q[K],E=Q[K+1],M=Q[K+2],z.push(new bm([new bh([y[3*e],y[3*e+1],y[3*e+2]],l,N?[N[2*e],N[2*e+1],0]:S),new bh([y[3*E],y[3*E+1],y[3*E+2]],l,N?[N[2*E],N[2*E+1],0]:S),new bh([y[3*M],y[3*M+1],y[3*M+2]],l,N?[N[2*M],N[2*M+1],0]:S)],v));else for(G=y.length;G>K;K+=3)e=K,E=K+1,M=K+2,z.push(new bm([new bh([y[3*e],y[3*e+1],y[3*e+2]],l,N?[N[2*e],N[2*e+1],0]:S),new bh([y[3*E],y[3*E+1],y[3*E+2]],l,N?[N[2*E],N[2*E+1],0]:S),new bh([y[3*M],y[3*M+1],y[3*M+2]],l,N?[N[2*M],N[2*M+1],0]:S)],v));return z},Fc=[g,f,N,e,T,L],tg=Fc.concat("csg"),Hq=[0,6,12,18,24,30],Yj=function(t,A,b){for(var h=Q(t),H=[],E=0;6>E;E++)for(var Y=Fc[E],a=Hq[E],s=b?A.getFaceUv(t,Y):S,z=b?A.getFaceUvScale(t,Y):S,j=b?A.getFaceUvOffset(t,Y):S,i=0;2>i;i++){var y,k,P,m=c[a+3*i],d=c[a+3*i+1],B=c[a+3*i+2];if(b){if(s){var F=8*E;y=[s[2*m-F],s[2*m+1-F],0],k=[s[2*d-F],s[2*d+1-F],0],P=[s[2*B-F],s[2*B+1-F],0]}else y=[o[2*m],o[2*m+1],0],k=[o[2*d],o[2*d+1],0],P=[o[2*B],o[2*B+1],0];z&&(y[0]*=z[0],y[1]*=z[1],k[0]*=z[0],k[1]*=z[1],P[0]*=z[0],P[1]*=z[1]),j&&(y[0]+=j[0],y[1]+=j[1],k[0]+=j[0],k[1]+=j[1],P[0]+=j[0],P[1]+=j[1])}H.push(new bm([new bh(w([I[3*m],I[3*m+1],I[3*m+2]],h),l,y),new bh(w([I[3*d],I[3*d+1],I[3*d+2]],h),l,k),new bh(w([I[3*B],I[3*B+1],I[3*B+2]],h),l,P)],t))}return $n.$15n(H)},mc=function(Z,h){var G,u=Z.data.getAttaches();if(u&&u.each(function(i){i instanceof Mr&&i.s("attach.operation")&&(G||(G=[]),G.push(i))}),G){var f;Fc.forEach(function(N){var W=Xm(N,Z[N].vs,Z[N].tuv);f=f?f.concat(W):W}),f=$n.$15n(f),G.forEach(function(n){var m=n.s("attach.operation");f[m]&&(f=f[m](Yj(n,Z.gv,Z.csg.tuv)))}),Fc.forEach(function(I){I=Z[I],I.vs=[],I.tuv&&(I.tuv=[])}),f.$19n().forEach(function(E){var b=E.$10n;if(b instanceof Mr){if(b.s("attach.cull"))return;b="csg"}for(var R=Z[b],i=R.vs,t=R.tuv,I=E.$9n,L=2;L<I.length;L++)_(i,I[0].$24n),_(i,I[L-1].$24n),_(i,I[L].$24n),t&&(_(t,I[0].uv,!0),_(t,I[L-1].uv,!0),_(t,I[L].uv,!0))})}tg.forEach(function(P){var l=Z[P];l.visible&&l.vs.length?(l.ns=n(l.vs),Y(l,"vs"),Y(l,"tuv")):delete Z[P]}),h&&(q(Z,S,h),Z.clear())};y(R,{createFrameModel:function(U,B,$,y){U=U==S?.07:U,B=B==S?U:B,$=$==S?U:$,y=y?y:{};var Z=y.top,G=y.bottom,p=y.left,f=y.right,N=y.front,r=y.back,d=[],o=[];return N===!0?(d.push(-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,.5),o.push(0,0,0,1,1,1,1,1,1,0,0,0)):N===!1||(d.push(-.5,.5,.5,-.5,-.5,.5,-.5+U,-.5,.5,-.5+U,-.5,.5,-.5+U,.5,.5,-.5,.5,.5,.5-U,.5,.5,.5-U,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5-U,.5,.5,-.5+U,.5,.5,-.5+U,.5-B,.5,.5-U,.5-B,.5,.5-U,.5-B,.5,.5-U,.5,.5,-.5+U,.5,.5,-.5+U,-.5+B,.5,-.5+U,-.5,.5,.5-U,-.5,.5,.5-U,-.5,.5,.5-U,-.5+B,.5,-.5+U,-.5+B,.5),o.push(0,0,0,1,U,1,U,1,U,0,0,0,1-U,0,1-U,1,1,1,1,1,1,0,1-U,0,U,0,U,B,1-U,B,1-U,B,1-U,0,U,0,U,1-B,U,1,1-U,1,1-U,1,1-U,1-B,U,1-B)),r===!0?(d.push(-.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5),o.push(1,0,0,1,1,1,0,1,1,0,0,0)):r===!1||(d.push(-.5,.5,-.5,-.5+U,-.5,-.5,-.5,-.5,-.5,-.5+U,-.5,-.5,-.5,.5,-.5,-.5+U,.5,-.5,.5-U,.5,-.5,.5,-.5,-.5,.5-U,-.5,-.5,.5,-.5,-.5,.5-U,.5,-.5,.5,.5,-.5,-.5+U,.5,-.5,.5-U,.5-B,-.5,-.5+U,.5-B,-.5,.5-U,.5-B,-.5,-.5+U,.5,-.5,.5-U,.5,-.5,-.5+U,-.5+B,-.5,.5-U,-.5,-.5,-.5+U,-.5,-.5,.5-U,-.5,-.5,-.5+U,-.5+B,-.5,.5-U,-.5+B,-.5),o.push(1,0,1-U,1,1,1,1-U,1,1,0,1-U,0,U,0,0,1,U,1,0,1,U,0,0,0,1-U,0,U,B,1-U,B,U,B,1-U,0,U,0,1-U,1-B,U,1,1-U,1,U,1,1-U,1-B,U,1-B)),p===!0?(d.push(-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5),o.push(0,0,0,1,1,1,1,1,1,0,0,0)):p===!1||(d.push(-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5+$,-.5,-.5,-.5+$,-.5,.5,-.5+$,-.5,.5,-.5,-.5,.5,.5-$,-.5,-.5,.5-$,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5-$,-.5,.5,-.5+$,-.5,.5-B,-.5+$,-.5,.5-B,.5-$,-.5,.5-B,.5-$,-.5,.5,.5-$,-.5,.5,-.5+$,-.5,-.5+B,-.5+$,-.5,-.5,-.5+$,-.5,-.5,.5-$,-.5,-.5,.5-$,-.5,-.5+B,.5-$,-.5,-.5+B,-.5+$),o.push(0,0,0,1,$,1,$,1,$,0,0,0,1-$,0,1-$,1,1,1,1,1,1,0,1-$,0,$,0,$,B,1-$,B,1-$,B,1-$,0,$,0,$,1-B,$,1,1-$,1,1-$,1,1-$,1-B,$,1-B)),f===!0?(d.push(.5,.5,-.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,.5,.5,.5,-.5,.5,.5,.5),o.push(1,0,0,1,1,1,0,1,1,0,0,0)):f===!1||(d.push(.5,.5,-.5,.5,-.5,-.5+$,.5,-.5,-.5,.5,-.5,-.5+$,.5,.5,-.5,.5,.5,-.5+$,.5,.5,.5-$,.5,-.5,.5,.5,-.5,.5-$,.5,-.5,.5,.5,.5,.5-$,.5,.5,.5,.5,.5,-.5+$,.5,.5-B,.5-$,.5,.5-B,-.5+$,.5,.5-B,.5-$,.5,.5,-.5+$,.5,.5,.5-$,.5,-.5+B,-.5+$,.5,-.5,.5-$,.5,-.5,-.5+$,.5,-.5,.5-$,.5,-.5+B,-.5+$,.5,-.5+B,.5-$),o.push(1,0,1-$,1,1,1,1-$,1,1,0,1-$,0,$,0,0,1,$,1,0,1,$,0,0,0,1-$,0,$,B,1-$,B,$,B,1-$,0,$,0,1-$,1-B,$,1,1-$,1,$,1,1-$,1-B,$,1-B)),Z===!0?(d.push(.5,.5,.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,.5),o.push(1,1,1,0,0,0,0,0,0,1,1,1)):Z===!1||(d.push(.5,.5,.5,.5,.5,-.5,.5-U,.5,-.5,.5-U,.5,-.5,.5-U,.5,.5,.5,.5,.5,-.5+U,.5,.5,-.5+U,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5+U,.5,.5,.5-U,.5,.5,.5-U,.5,.5-$,-.5+U,.5,.5-$,-.5+U,.5,.5-$,-.5+U,.5,.5,.5-U,.5,.5,.5-U,.5,-.5+$,.5-U,.5,-.5,-.5+U,.5,-.5,-.5+U,.5,-.5,-.5+U,.5,-.5+$,.5-U,.5,-.5+$),o.push(1,1,1,0,1-U,0,1-U,0,1-U,1,1,1,U,1,U,0,0,0,0,0,0,1,U,1,1-U,1,1-U,1-$,U,1-$,U,1-$,U,1,1-U,1,1-U,$,1-U,0,U,0,U,0,U,$,1-U,$)),G===!0?(d.push(.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,-.5,-.5,.5),o.push(1,0,0,1,1,1,0,1,1,0,0,0)):G===!1||(d.push(.5,-.5,.5,.5-U,-.5,-.5,.5,-.5,-.5,.5-U,-.5,-.5,.5,-.5,.5,.5-U,-.5,.5,-.5+U,-.5,.5,-.5,-.5,-.5,-.5+U,-.5,-.5,-.5,-.5,-.5,-.5+U,-.5,.5,-.5,-.5,.5,.5-U,-.5,.5,-.5+U,-.5,.5-$,.5-U,-.5,.5-$,-.5+U,-.5,.5-$,.5-U,-.5,.5,-.5+U,-.5,.5,.5-U,-.5,-.5+$,-.5+U,-.5,-.5,.5-U,-.5,-.5,-.5+U,-.5,-.5,.5-U,-.5,-.5+$,-.5+U,-.5,-.5+$),o.push(1,0,1-U,1,1,1,1-U,1,1,0,1-U,0,U,0,0,1,U,1,0,1,U,0,0,0,1-U,0,U,$,1-U,$,U,$,1-U,0,U,0,1-U,1-$,U,1,1-U,1,U,1,1-U,1-$,U,1-$)),{vs:d,uv:o}}}),y(j.Style,{"dw.flip":!1,"dw.s3":[.999,.999,.5],"dw.t3":$,"dw.expanded":!1,"dw.toggleable":!0,"dw.axis":"left","dw.start":0,"dw.end":W/2,"dw.angle":0,"attach.cull":!1,"attach.operation":"subtract"},!0),Fc.forEach(function(H){var A={};A[H+B]=!1,A[H+".toggleable"]=!1,A[H+".axis"]=g,A[H+".start"]=0,A[H+".end"]=W/2,A[H+a]=0,y(j.Style,A,!0)});var $n=function(){this.$4n=[]};$n.$15n=function(t){var j=new $n;return j.$4n=t,j},$n.prototype={clone:function(){var w=new $n;return w.$4n=this.$4n.map(function(o){return o.clone()}),w},$19n:function(){return this.$4n},union:function(V){var W=new Ek(this.clone().$4n),y=new Ek(V.clone().$4n);return W.$3n(y),y.$3n(W),y.$6n(),y.$3n(W),y.$6n(),W.$7n(y.$2n()),$n.$15n(W.$2n())},subtract:function(x){var t=new Ek(this.clone().$4n),C=new Ek(x.clone().$4n);return t.$6n(),t.$3n(C),C.$3n(t),C.$6n(),C.$3n(t),C.$6n(),t.$7n(C.$2n()),t.$6n(),$n.$15n(t.$2n())},intersect:function(H){var w=new Ek(this.clone().$4n),A=new Ek(H.clone().$4n);return w.$6n(),A.$3n(w),A.$6n(),w.$3n(A),A.$3n(w),w.$7n(A.$2n()),w.$6n(),$n.$15n(w.$2n())},inverse:function(){var v=this.clone();return v.$4n.map(function(i){i.flip()}),v}},$n.cube=function($){$=$||{};var Q=new Vo($.center||[0,0,0]),K=$.radius?$.radius.length?$.radius:[$.radius,$.radius,$.radius]:[1,1,1];return $n.$15n([[[0,4,6,2],[-1,0,0]],[[1,3,7,5],[1,0,0]],[[0,1,5,4],[0,-1,0]],[[2,6,7,3],[0,1,0]],[[0,2,3,1],[0,0,-1]],[[4,5,7,6],[0,0,1]]].map(function(Y){return new bm(Y[0].map(function(i){var T=new Vo(Q.x+K[0]*(2*!!(1&i)-1),Q.y+K[1]*(2*!!(2&i)-1),Q.z+K[2]*(2*!!(4&i)-1));return new bh(T,new Vo(Y[1]))}))}))},$n.sphere=function(w){function X(R,B){R*=2*W,B*=W;var w=new Vo(U(R)*u(B),U(B),u(R)*u(B));O.push(new bh(j.$20n(w.$21n($)),w))}w=w||{};for(var O,j=new Vo(w.center||[0,0,0]),$=w.radius||1,q=w.slices||16,t=w.stacks||8,_=[],y=0;q>y;y++)for(var o=0;t>o;o++)O=[],X(y/q,o/t),o>0&&X((y+1)/q,o/t),t-1>o&&X((y+1)/q,(o+1)/t),X(y/q,(o+1)/t),_.push(new bm(O));return $n.$15n(_)},$n.cylinder=function(t){function D(Q,G,$){var y=2*G*W,t=O.$21n(U(y)).$20n(P.$21n(u(y))),T=a.$20n(n.$21n(Q)).$20n(t.$21n(E)),J=t.$21n(1-A($)).$20n(j.$21n($));return new bh(T,J)}t=t||{};for(var a=new Vo(t.start||[0,-1,0]),e=new Vo(t.end||[0,1,0]),n=e.$13n(a),E=t.radius||1,w=t.slices||16,j=n.$14n(),R=A(j.y)>.5,O=new Vo(R,!R,0).$12n(j).$14n(),P=O.$12n(j).$14n(),H=new bh(a,j.$11n()),s=new bh(e,j.$14n()),C=[],B=0;w>B;B++){var T=B/w,G=(B+1)/w;C.push(new bm([H,D(0,T,-1),D(0,G,-1)])),C.push(new bm([D(0,G,0),D(0,T,0),D(1,T,0),D(1,G,0)])),C.push(new bm([s,D(1,G,1),D(1,T,1)]))}return $n.$15n(C)};var Vo=function(q,Z,B){var W=this;3==arguments.length?(W.x=q,W.y=Z,W.z=B):"x"in q?(W.x=q.x,W.y=q.y,W.z=q.z):(W.x=q[0],W.y=q[1],W.z=q[2])};Vo.prototype={clone:function(){return new Vo(this.x,this.y,this.z)},$11n:function(){return new Vo(-this.x,-this.y,-this.z)},$20n:function(F){return new Vo(this.x+F.x,this.y+F.y,this.z+F.z)},$13n:function(Y){return new Vo(this.x-Y.x,this.y-Y.y,this.z-Y.z)},$21n:function(s){return new Vo(this.x*s,this.y*s,this.z*s)},$16n:function(_){return new Vo(this.x/_,this.y/_,this.z/_)},$23n:function($){return this.x*$.x+this.y*$.y+this.z*$.z},lerp:function(K,i){return this.$20n(K.$13n(this).$21n(i))},length:function(){return i(this.$23n(this))},$14n:function(){return this.$16n(this.length())},$12n:function(y){var T=this;return new Vo(T.y*y.z-T.z*y.y,T.z*y.x-T.x*y.z,T.x*y.y-T.y*y.x)}};var bh=function(H,r,u){var i=this;i.$24n=new Vo(H),i.$22n=new Vo(r),i.uv=u?new Vo(u):null};bh.prototype={clone:function(){var h=this;return new bh(h.$24n.clone(),h.$22n.clone(),h.uv?h.uv.clone():null)},flip:function(){this.$22n=this.$22n.$11n()},$18n:function(N,I){var O=this;return new bh(O.$24n.lerp(N.$24n,I),O.$22n.lerp(N.$22n,I),O.uv?O.uv.lerp(N.uv,I):null)}};var Zl=function(C,i){this.$22n=C,this.w=i};Zl.$17n=function(A,Q,J){var y=Q.$13n(A).$12n(J.$13n(A)).$14n();return new Zl(y,y.$23n(A))},Zl.prototype={clone:function(){return new Zl(this.$22n.clone(),this.w)},flip:function(){var L=this;L.$22n=L.$22n.$11n(),L.w=-L.w},$5n:function(L,g,I,z,r){for(var l=this,X=0,W=1,V=2,A=3,u=0,q=[],B=0;B<L.$9n.length;B++){var o=l.$22n.$23n(L.$9n[B].$24n)-l.w,H=-m>o?V:o>m?W:X;u|=H,q.push(H)}switch(u){case X:(l.$22n.$23n(L.$8n.$22n)>0?g:I).push(L);break;case W:z.push(L);break;case V:r.push(L);break;case A:for(var M=[],v=[],B=0;B<L.$9n.length;B++){var y=(B+1)%L.$9n.length,s=q[B],S=q[y],e=L.$9n[B],j=L.$9n[y];if(s!=V&&M.push(e),s!=W&&v.push(s!=V?e.clone():e),(s|S)==A){var o=(l.w-this.$22n.$23n(e.$24n))/l.$22n.$23n(j.$24n.$13n(e.$24n)),O=e.$18n(j,o);M.push(O),v.push(O.clone())}}M.length>=3&&z.push(new bm(M,L.$10n)),v.length>=3&&r.push(new bm(v,L.$10n))}}};var bm=function(N,C){var d=this;d.$9n=N,d.$10n=C,d.$8n=Zl.$17n(N[0].$24n,N[1].$24n,N[2].$24n)};bm.prototype={clone:function(){var t=this.$9n.map(function(Y){return Y.clone()});return new bm(t,this.$10n)},flip:function(){this.$9n.reverse().map(function(N){N.flip()}),this.$8n.flip()}};var Ek=function(m){var i=this;i.$8n=null,i.front=null,i.back=null,i.$4n=[],m&&i.$7n(m)};Ek.prototype={clone:function(){var i=this,h=new Ek;return h.$8n=i.$8n&&i.$8n.clone(),h.front=i.front&&i.front.clone(),h.back=i.back&&i.back.clone(),h.$4n=i.$4n.map(function(s){return s.clone()}),h},$6n:function(){for(var d=this,n=0;n<d.$4n.length;n++)d.$4n[n].flip();d.$8n.flip(),d.front&&d.front.$6n(),d.back&&d.back.$6n();var Y=d.front;d.front=d.back,d.back=Y},$1n:function(a){var D=this;if(!D.$8n)return a.slice();for(var W=[],f=[],z=0;z<a.length;z++)D.$8n.$5n(a[z],W,f,W,f);return D.front&&(W=D.front.$1n(W)),f=D.back?D.back.$1n(f):[],W.concat(f)},$3n:function(Y){var y=this;y.$4n=Y.$1n(y.$4n),y.front&&y.front.$3n(Y),y.back&&y.back.$3n(Y)},$2n:function(){var i=this,W=i.$4n.slice();return i.front&&(W=W.concat(i.front.$2n())),i.back&&(W=W.concat(i.back.$2n())),W},$7n:function(b){var I=this;if(b.length){I.$8n||(I.$8n=b[0].$8n.clone());for(var A=[],j=[],H=0;H<b.length;H++)this.$8n.$5n(b[H],I.$4n,I.$4n,A,j);A.length&&(I.front||(I.front=new Ek),this.front.$7n(A)),j.length&&(I.back||(I.back=new Ek),I.back.$7n(j))}}};var ue="symbol",Xe=j.Symbol=function(H,Q,t){var j=this;b(Xe,j),j.s3(20,20,20),j.s({"all.visible":!1,shape:"rect"}),j.setIcon(H,Q,t)};r("Symbol",E,{setIcon:function(r,b,e){var H,t=this;return Xe.superClass.setIcon.call(t,r),r?(H={for3d:!0,face:"center",position:44,names:[r]},e&&(H.transaprent=!0),b&&(H.autorotate=b),t.addStyleIcon(ue,H)):t.removeStyleIcon(ue),t.setWidth(V.getImageWidth(R.getImage(r),t)||20),H}});var Mr=j.CSGNode=function(){b(Mr,this),this.s({shape:"rect","attach.thickness":1.001})},Cb={position:1,width:1,height:1,rotation:1,rotationX:1,rotationZ:1,rotationMode:1,tall:1,elevation:1,"s:attach.cull":1,"s:attach.operation":1};r("CSGNode",E,{_22Q:function(){return Cc},onPropertyChanged:function(Y){var R=this,G=R.getHost();Mr.superClass.onPropertyChanged.call(R,Y),Cb[Y.property]&&(G instanceof ai||G instanceof Mr)&&G.fp("csgNodeChange",!0,!1)}});var Cc=function(T,w){b(Cc,this,[T,w])};M(Cc,C.Node3dUI,{_80o:function(t,C,U){var Q=this;Q._shape3d?Cc.superClass._80o.call(Q,t,C,U):(O(Q.gv),tg.forEach(function(a){X(Q,t,C,Q[a],U)}))},validate:function(R,y){var r=this,B=r.gv,W=r.data;if(W.s("shape3d"))return Cc.superClass.validate.call(r,R,y),r._shape3d=!0,void 0;r._shape3d=!1;var h=Q(W,B.getMat(W)),d=R&&R.uv;r.vf2("csg",d);for(var T=0;6>T;T++)for(var V=Fc[T],Y=Hq[T],Z=r.vf2(V,d,y),O=Z.mat||h,v=Z.vs,m=Z.uv,e=Z.tuv,x=0;2>x;x++){var K=c[Y+3*x],G=c[Y+3*x+1],X=c[Y+3*x+2];if(J(v,O,[I[3*K],I[3*K+1],I[3*K+2]]),J(v,O,[I[3*G],I[3*G+1],I[3*G+2]]),J(v,O,[I[3*X],I[3*X+1],I[3*X+2]]),e)if(m){var N=8*T;e.push(m[2*K-N],m[2*K+1-N],m[2*G-N],m[2*G+1-N],m[2*X-N],m[2*X+1-N])}else e.push(o[2*K],o[2*K+1],o[2*G],o[2*G+1],o[2*X],o[2*X+1])}mc(r,R,y)},vf2:function(i,w,U){var l,$=this,f=$.gv.getFaceVisible($.data,i);return l=p($,i,U),l.vs=[],l.tuv=f&&(l.texture||w)?[]:S,l.visible=f,l}});var ai=j.CSGShape=function(){var M=this;b(ai,M),M.s({"shape.background":S,"shape.border.width":8}),M.setTall(240),M.setElevation(120),M.setThickness(14)};r("CSGShape",F,{IRotatable:!1,_22Q:function(){return Rb},setRotationX:function(){},setRotation:function(){},setRotationZ:function(){},setSegments:function(){}});var Rb=function(Z,L){b(Rb,this,[Z,L])};M(Rb,C.Shape3dUI,{_80o:function(M,v,P){var z=this;z.undrawable||(O(z.gv),tg.forEach(function(q){X(z,M,v,z[q],P)}))},validate:function(h,P){var M=this,k=M.data,r=k.getPoints();if(M.undrawable=r.size()<2)return M.clear(),void 0;var F=k.isClosePath(),U=z(k._thickness/2,m),Z=t(r,S,S,F);tg.forEach(function(C){M.vf(C,h&&h.uv,!0,P)}),F&&(M.left.visible=!1,M.right.visible=!1),M._12O(Z,U),M._20Q(Z),mc(M,h,P)}});var vj=j.DoorWindow=function(){var K=this;b(vj,K),K.setElevation(100),K.s3(100,200,14)};r("DoorWindow",Mr,{IDoorWindow:!0,toggle:function(v){this.setExpanded(!this.s(x),v)},isExpanded:function(){return this.s(x)},setExpanded:function(n,Z){var l=this,E=l.$25n,u=l.getDataModel(),s=l.s(x);if(E&&(E.stop(!0),delete l.$25n),s!==n){u&&u.beginTransaction();var q=n?l.s("dw.end"):l.s("dw.start");l.s(x,n),Z=P(Z),Z?(s=l.s(G),Z.action=function(V){l.s(G,s+(q-s)*V)},Z.finishFunc=function(){u&&u.endTransaction()},l.$25n=D(Z)):(l.s(G,q),u&&u.endTransaction())}},getMat:function(){var U=this,a=U.s("dw.s3"),B=U.s("dw.t3"),q=U.s("dw.flip"),y=U.s(G);if(a||y||B||q){var Y=[];if(q&&Y.push({r3:[0,W,0]}),a&&Y.push({s3:a}),y){a=U.s3();var D=U.s("dw.axis"),P=a[0]/2,O=a[1]/2;a[2]/2,D===g?Y.push({t3:[P,0,0]},{r3:[0,-y,0]},{t3:[-P,0,0]}):D===N?Y.push({t3:[-P,0,0]},{r3:[0,y,0]},{t3:[P,0,0]}):D===T?Y.push({t3:[0,-O,0]},{r3:[-y,0,0]},{t3:[0,O,0]}):D===L?Y.push({t3:[0,O,0]},{r3:[y,0,0]},{t3:[0,-O,0]}):D===s?Y.push({r3:[0,y,0]}):D===d&&Y.push({r3:[y,0,0]})}return B&&Y.push({t3:B}),h(Y)}return S}});var qp=j.CSGBox=function(){var J=this;b(qp,J),J.setElevation(100),J.s3(100,200,100)};r("CSGBox",Mr,{ICSGBox:!0,toggleFace:function(f,I){this.setFaceExpanded(f,!this.s(f+B),I)},isFaceExpanded:function(c){return this.s(c+B)},setFaceExpanded:function(x,b,W){var c=this,r=c.$25n,M=c.s(x+B);if(r&&(r.stop(!0),delete c.$25n),M!==b){var w=b?c.s(x+".end"):c.s(x+".start");c.s(x+B,b),W=P(W),W?(M=c.s(x+a),W.action=function(l){c.s(x+a,M+(w-M)*l)},c.$25n=D(W)):c.s(x+a,w)}},getFaceMat:function(V){var F=this,Z=F.s(V+a);if(!Z)return S;var C=F.s(V+".axis"),k=F.s3(),z=k[0]/2,Y=k[1]/2,p=k[2]/2,i=[];return V===f&&(C===g?i.push({t3:[z,0,-p]},{r3:[0,-Z,0]},{t3:[-z,0,p]}):C===N?i.push({t3:[-z,0,-p]},{r3:[0,Z,0]},{t3:[z,0,p]}):C===T?i.push({t3:[0,-Y,-p]},{r3:[-Z,0,0]},{t3:[0,Y,p]}):C===L?i.push({t3:[0,Y,-p]},{r3:[Z,0,0]},{t3:[0,-Y,p]}):C===s?i.push({t3:[0,0,-p]},{r3:[0,Z,0]},{t3:[0,0,p]}):C===d&&i.push({t3:[0,0,-p]},{r3:[Z,0,0]},{t3:[0,0,p]})),V===e&&(C===g?i.push({t3:[-z,0,p]},{r3:[0,-Z,0]},{t3:[z,0,-p]}):C===N?i.push({t3:[z,0,p]},{r3:[0,Z,0]},{t3:[-z,0,-p]}):C===T?i.push({t3:[0,-Y,p]},{r3:[Z,0,0]},{t3:[0,Y,-p]}):C===L?i.push({t3:[0,Y,p]},{r3:[-Z,0,0]},{t3:[0,-Y,-p]}):C===s?i.push({t3:[0,0,p]},{r3:[0,Z,0]},{t3:[0,0,-p]}):C===d&&i.push({t3:[0,0,p]},{r3:[Z,0,0]},{t3:[0,0,-p]})),V===g&&(C===g?i.push({t3:[z,0,p]},{r3:[0,-Z,0]},{t3:[-z,0,-p]}):C===N?i.push({t3:[z,0,-p]},{r3:[0,Z,0]},{t3:[-z,0,p]}):C===T?i.push({t3:[z,-Y,0]},{r3:[0,0,-Z]},{t3:[-z,Y,0]}):C===L?i.push({t3:[z,Y,0]},{r3:[0,0,Z]},{t3:[-z,-Y,0]}):C===s?i.push({t3:[z,0,0]},{r3:[0,Z,0]},{t3:[-z,0,0]}):C===d&&i.push({t3:[z,0,0]},{r3:[0,0,Z]},{t3:[-z,0,0]})),V===N&&(C===g?i.push({t3:[-z,0,-p]},{r3:[0,-Z,0]},{t3:[z,0,p]}):C===N?i.push({t3:[-z,0,p]},{r3:[0,Z,0]},{t3:[z,0,-p]}):C===T?i.push({t3:[-z,-Y,0]},{r3:[0,0,Z]},{t3:[z,Y,0]}):C===L?i.push({t3:[-z,Y,0]},{r3:[0,0,-Z]},{t3:[z,-Y,0]}):C===s?i.push({t3:[-z,0,0]},{r3:[0,Z,0]},{t3:[z,0,0]}):C===d&&i.push({t3:[-z,0,0]},{r3:[0,0,Z]},{t3:[z,0,0]})),V===T&&(C===g?i.push({t3:[z,-Y,0]},{r3:[0,0,Z]},{t3:[-z,Y,0]}):C===N?i.push({t3:[-z,-Y,0]},{r3:[0,0,-Z]},{t3:[z,Y,0]}):C===T?i.push({t3:[0,-Y,p]},{r3:[-Z,0,0]},{t3:[0,Y,-p]}):C===L?i.push({t3:[0,-Y,-p]},{r3:[Z,0,0]},{t3:[0,Y,p]}):C===s?i.push({t3:[0,-Y,0]},{r3:[0,0,Z]},{t3:[0,Y,0]}):C===d&&i.push({t3:[0,-Y,0]},{r3:[Z,0,0]},{t3:[0,Y,0]})),V===L&&(C===g?i.push({t3:[z,Y,0]},{r3:[0,0,-Z]},{t3:[-z,-Y,0]}):C===N?i.push({t3:[-z,Y,0]},{r3:[0,0,Z]},{t3:[z,-Y,0]}):C===T?i.push({t3:[0,Y,-p]},{r3:[-Z,0,0]},{t3:[0,-Y,p]}):C===L?i.push({t3:[0,Y,p]},{r3:[Z,0,0]},{t3:[0,-Y,-p]}):C===s?i.push({t3:[0,Y,0]},{r3:[0,0,Z]},{t3:[0,-Y,0]}):C===d&&i.push({t3:[0,Y,0]},{r3:[Z,0,0]},{t3:[0,-Y,0]})),h(i)}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);