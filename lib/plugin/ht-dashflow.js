!function(t){"use strict";var K="ht",Q=t[K],_=Q.Default,X=Math,w=(X.PI,X.sin,X.cos,X.atan2,X.sqrt,X.max),g=X.floor,o=(X.round,X.ceil),C=Q.Shape,G=(Q.Edge,Q.List),B=Q.Style,F=Q.graph,N=_.getInternal(),I=N.ui(),a=null,H="prototype",h=t.clearInterval,j=t.setInterval,W=function(Q){var x=Q.data,V=this.dm();if(x&&"add"===Q.kind){var k=V.$1c,b=x instanceof C?"shape.":"edge.";k&&x.s(b+"dash.flow")&&k.indexOf(x)<0&&k.push(x)}"clear"===Q.kind&&(V.$1c=[])},n=function(r){var l=r.property,M=r.data,O=r.newValue,J=this.dm().$1c,k=M instanceof C?"s:shape.dash.flow":"s:edge.dash.flow";if(J&&l===k)if(O)J.indexOf(M)<0&&J.push(M);else for(var h=J.length,Q=0;h>Q;Q++)if(J[Q]===M){J.splice(Q,1);break}},d=F.GraphView[H],v=I.EdgeUI[H],E=I.ShapeUI[H],S=E._80o,M=v._80o,u=Q.DataModel[H],J=u.prepareRemove,T=d.setDataModel;B["edge.dash.flow.step"]==a&&(B["edge.dash.flow.step"]=3),B["shape.dash.flow.step"]==a&&(B["shape.dash.flow.step"]=3),u.prepareRemove=function(H){J.call(this,H);var l=H._dataModel,x=l.$1c;if(x)for(var k=x.length,W=0;k>W;W++)if(x[W]===H){x.splice(W,1);break}},d.setDataModel=function(i){var b=this,Y=b._dataModel;if(Y!==i){Y&&(Y.umm(W,b),Y.umd(n,b),Y.$1c=[]),i.mm(W,b),i.md(n,b);var j=i.$1c=[];i.each(function(d){var W=d instanceof C?"shape.":"edge.";d.s(W+"dash.flow")&&j.indexOf(d)<0&&j.push(d)}),T.call(b,i)}},d.setDashFlowInterval=function(U){var R=this,Y=R.$2c;R.$2c=U,R.fp("dashFlowInterval",Y,U),R.$3c!=a&&(h(R.$3c),delete R.$3c,R.enableDashFlow(U))},d.getDashFlowInterval=function(){return this.$2c},d.$4c=function(){var X,k,v,p=this,S=p.tx(),r=p.ty(),R=p._zoom,B=p.getWidth(),F=p.getHeight(),l={x:-S/R,y:-r/R,width:B/R,height:F/R},J=p.dm().$1c,V=p._56I,z=new G;if(J.forEach(function(t){V[t.getId()]&&(X=p.getDataUI(t),X&&(v=X._79o(),v&&z.add(v)))}),0!==z.size()&&(z.each(function(f){_.intersectsRect(l,f)&&(k=_.unionRect(k,f))}),k&&(k&&(_.grow(k,w(1,1/R)),k.x=g(k.x*R)/R,k.y=g(k.y*R)/R,k.width=o(k.width*R)/R,k.height=o(k.height*R)/R,k=_.intersection(l,k)),k))){var E=p._canvas.getContext("2d");E.save(),E.lineCap=_.lineCap,E.lineJoin=_.lineJoin,N.translateAndScale(E,S,r,R),E.beginPath(),E.rect(k.x,k.y,k.width,k.height),E.clip(),E.clearRect(k.x,k.y,k.width,k.height),p.$5c(E,k),E.restore()}},d.$5c=function(J,i){var U,H,v=this;v._93db(J),v.each(function(o){v._56I[o._id]&&(U=v.getDataUI(o),U&&(H=U._79o(),(!i||_.intersectsRect(i,H))&&(U.$7c=!0,U._42(J),delete U.$7c)))}),v._92db(J)},d.enableDashFlow=function(G){var V=this;V.$3c==a&&(V.$3c=j(function(){V.$4c()},G||V.$2c||50))},d.disableDashFlow=function(){var z=this;h(z.$3c),delete z.$3c};var D=function(){var w=this,y=w._data,s=y instanceof C?"shape.":"edge.",x=y.s(s+"dash.pattern"),J=y.s(s+"dash.flow.reverse");if(x&&y.s(s+"dash")&&y.s(s+"dash.flow")&&w.$7c){var V=w.s(s+"dash.offset")||0,q=y.s(s+"dash.flow.step"),n=y.getStyleMap(),k=0;x.forEach(function(v){k+=v}),J&&(q=-q),V-=q,V%=k,n||(y._styleMap=n={}),n[s+"dash.offset"]=V}};v._80o=function(z){M.call(this,z),D.call(this)},E._80o=function(F){S.call(this,F),D.call(this)}}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);